{"ast":null,"code":"var _jsxFileName = \"/home/silasi/Deprojectos/python_projects/wiplay-it-project/wiplayit_app/frontend/src/containers/question/question_page.js\";\nimport React, { Component } from 'react';\nimport * as action from 'actions/actionCreators';\nimport { getQuestion } from 'dispatch/index';\nimport { PartalNavigationBar, NavigationBarBigScreen } from \"components/navBar\";\nimport AjaxLoader from \"components/ajax-loader\";\nimport { QuestionComponent } from \"components/question_components\";\nimport { store } from \"index\";\nimport AnswersBox from \"containers/answer/answer_page\";\nimport withHigherOrderIndexBox from \"containers/index/higher_order_index\";\n\nclass QuestionPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isQuestionBox: true,\n      pageName: \"Question\",\n      questionById: ''\n    };\n  }\n\n  componentWillUnmount() {}\n\n  componentDidUpdate(nextProps, prevState) {\n    console.log(nextProps); //var questionById = this.state.questionById;\n    //var questionEntytie = nextProps.entyties.question;\n    //questionEntytie = questionEntytie.byId[questionById];\n  }\n\n  componentDidMount() {\n    console.log(this.props);\n    var state = this.props.location.state;\n    var entyties = this.props.entyties;\n\n    if (state) {\n      let isNewQuestion = state.isNewQuestion,\n          question = state.question;\n      var questionById = \"question\".concat(question.id);\n      this.setState({\n        questionById\n      });\n\n      if (isNewQuestion) {\n        store.dispatch(action.getQuestionSuccess(question));\n        store.dispatch(action.Redirected());\n        return;\n      }\n\n      var questionEntytie = entyties.question;\n      questionEntytie = questionEntytie.byId[questionById];\n\n      if (!questionEntytie) {\n        store.dispatch(getQuestion(question.id));\n      }\n    }\n  }\n\n  componentDidCatch(error, info) {\n    // You can also log the error to an error reporting service\n    console.log(error, info);\n  }\n\n  getProps() {\n    //Collect all state data and props.\n    let props = {\n      isQuestionBox: this.state.isQuestionBox,\n      pageName: this.state.pageName,\n      questionById: this.state.questionById\n    };\n    return Object.assign(props, this.props);\n  }\n\n  render() {\n    let props = this.getProps();\n    var questionById = props.questionById;\n    var question = props.entyties.question;\n    question = question.byId[questionById];\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(PartalNavigationBar, Object.assign({}, props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    })), React.createElement(NavigationBarBigScreen, Object.assign({}, props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    })), question ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, question.isLoading ? React.createElement(\"div\", {\n      className: \"page-spin-loader-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(AjaxLoader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    })) : React.createElement(Questions, Object.assign({}, props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }))) : \"\");\n  }\n\n}\n\n;\nexport default withHigherOrderIndexBox(QuestionPage);\nexport const Questions = props => {\n  var questionById = props.questionById;\n  var questionEntytie = props.entyties.question;\n  questionEntytie = questionEntytie.byId[questionById];\n  var question = questionEntytie.question;\n  let questionProps = {\n    question\n  };\n  Object.assign(questionProps, props);\n  return React.createElement(\"div\", {\n    className: \"question-page\",\n    id: \"question-page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, React.createElement(QuestionComponent, Object.assign({}, questionProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  })), question.answers ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"number-answers-box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, question.answer_count > 1 ? React.createElement(\"p\", {\n    className: \"items-count\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, question.answer_count, \"  Answers\") : React.createElement(\"p\", {\n    className: \"items-count\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, question.answer_count, \" Answer\")), React.createElement(AnswersBox, Object.assign({}, questionProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }))) : React.createElement(\"p\", {\n    className: \"items-count\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, \"No answer yet\")));\n};","map":{"version":3,"sources":["/home/silasi/Deprojectos/python_projects/wiplay-it-project/wiplayit_app/frontend/src/containers/question/question_page.js"],"names":["React","Component","action","getQuestion","PartalNavigationBar","NavigationBarBigScreen","AjaxLoader","QuestionComponent","store","AnswersBox","withHigherOrderIndexBox","QuestionPage","constructor","props","state","isQuestionBox","pageName","questionById","componentWillUnmount","componentDidUpdate","nextProps","prevState","console","log","componentDidMount","location","entyties","isNewQuestion","question","id","setState","dispatch","getQuestionSuccess","Redirected","questionEntytie","byId","componentDidCatch","error","info","getProps","Object","assign","render","isLoading","Questions","questionProps","answers","answer_count"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport  * as action  from 'actions/actionCreators';\nimport { getQuestion } from 'dispatch/index';\nimport {PartalNavigationBar,NavigationBarBigScreen } from \"components/navBar\";\nimport  AjaxLoader from \"components/ajax-loader\";\nimport { QuestionComponent} from \"components/question_components\"\nimport {store} from \"index\";\nimport AnswersBox from \"containers/answer/answer_page\";\n\nimport withHigherOrderIndexBox from \"containers/index/higher_order_index\";\n\n\n \n\n\nclass QuestionPage extends Component {\n\n   constructor(props) {\n      super(props);\n\n         this.state = {\n            isQuestionBox : true, \n            pageName      : \"Question\", \n            questionById  : ''\n         };\n\n      };\n  \n   componentWillUnmount() {\n   }\n\n\n   componentDidUpdate(nextProps, prevState) {\n     console.log(nextProps)\n     //var questionById = this.state.questionById;\n     //var questionEntytie = nextProps.entyties.question;\n\n     //questionEntytie = questionEntytie.byId[questionById];\n\n   }    \n\n\n    componentDidMount() {\n        console.log(this.props)\n        var { state } = this.props.location;\n        var { entyties } = this.props;\n\n        if (state) {\n\n            let { isNewQuestion, question } = state;\n            var questionById = `question${question.id}`;\n            this.setState({questionById})\n\n            if (isNewQuestion) {\n                store.dispatch(action.getQuestionSuccess(question))\n                store.dispatch(action.Redirected());\n                return ;\n            }\n      \n            var questionEntytie = entyties.question;\n            questionEntytie = questionEntytie.byId[questionById]\n\n            if (!questionEntytie) {\n                store.dispatch(getQuestion(question.id));\n            }\n        }\n      \n    };\n   \n\n   \n   componentDidCatch(error, info) {\n    // You can also log the error to an error reporting service\n    console.log(error, info);\n  }\n    \n   getProps(){\n      //Collect all state data and props.\n      let props = {\n         isQuestionBox     : this.state.isQuestionBox,\n         pageName          : this.state.pageName,\n         questionById      : this.state.questionById\n    \n      };\n      return Object.assign(props, this.props );  \n     \n   };\n\n   render() {\n        let props = this.getProps();\n        var questionById = props.questionById;\n        var question = props.entyties.question;\n        question = question.byId[questionById]\n\n                 \n        return (\n\n            <div>\n                <PartalNavigationBar {...props}/>\n                <NavigationBarBigScreen {...props} />\n\n                { question?\n\n                    <div>\n                        { question.isLoading?\n                            <div className=\"page-spin-loader-box\">\n                                <AjaxLoader/>\n                            </div>\n\n                            :\n                            <Questions {...props}/>\n                        } \n                    </div>\n\n                    :\n                   \"\"  \n                }           \n            </div>\n        );\n    };\n};\n\n\nexport default  withHigherOrderIndexBox(QuestionPage);\n\n\n\n\n\n\n\n\n\n\n\nexport const Questions = props => {\n   var questionById = props.questionById;\n   var questionEntytie = props.entyties.question;\n   questionEntytie = questionEntytie.byId[questionById]\n   var question =questionEntytie.question\n   let questionProps = { question};\n   Object.assign(questionProps, props) \n\n   \n   return (\n      <div className=\"question-page\" id=\"question-page\">\n         <div>\n            <QuestionComponent {...questionProps}/>\n\n            { question.answers?\n                <div>\n                <div className=\"number-answers-box\">\n                    { question.answer_count > 1? \n                        <p className=\"items-count\">{question.answer_count }  Answers</p>\n                        :\n                        <p className=\"items-count\">{ question.answer_count } Answer</p>\n                    }\n                </div>\n\n                \n                <AnswersBox {...questionProps}/>\n                </div>\n               :\n               <p className=\"items-count\">No answer yet</p>\n            }\n         </div>\n      </div>\n   );\n   \n};\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}