{"ast":null,"code":"import Api from 'api';\nimport Axios from 'axios_instance';\nimport * as action from 'actions/actionCreators';\nconst axiosApi = new Axios();\nconst api = new Api();\nexport function getUserList(props) {\n  const instance = axiosApi.axiosInstance();\n  var apiUrl = props.apiUrl,\n      usersById = props.usersById;\n  return dispatch => {\n    dispatch(action.getUserListPending(usersById));\n    instance.get(apiUrl).then(response => dispatch(action.getUserListSuccess(usersById, response.data))).catch(error => {\n      if (error.response) {\n        dispatch(action.getUserListError(usersById, error.response.data));\n      } else {\n        dispatch(action.handleError());\n      }\n    });\n  };\n}\n;\nexport function getQuestionList(questionListById) {\n  console.log(questionListById);\n  const instance = axiosApi.axiosInstance();\n  let apiUrl = api.getQuestionListApi();\n  return dispatch => {\n    dispatch(action.getQuestionListPending(questionListById));\n    instance.get(apiUrl).then(response => dispatch(action.getQuestionListSuccess(questionListById, response.data))).catch(error => {\n      if (error.response) {\n        var errors = error.response.data.errors;\n        dispatch(action.getQuestionListError(questionListById, errors));\n      } else {\n        dispatch(action.handleError());\n      }\n    });\n  };\n}\n;\nexport function getPostList(postListById) {\n  const instance = axiosApi.axiosInstance();\n  let apiUrl = api.getPostListApi();\n  return dispatch => {\n    dispatch(action.getPostListPending(postListById));\n    instance.get(apiUrl).then(response => dispatch(action.getPostListSuccess(postListById, response.data))).catch(error => {\n      if (error.response) {\n        dispatch(action.getPostListError(postListById, error.response.data));\n      } else {\n        dispatch(action.handleError());\n      }\n    });\n  };\n}\n;\nexport function getQuestion(id) {\n  const instance = axiosApi.axiosInstance();\n  let apiUrl = api.getQuestionApi(id);\n  return dispatch => {\n    dispatch(action.getQuestionPending(id));\n    instance.get(apiUrl).then(response => dispatch(action.getQuestionSuccess(response.data))).catch(error => dispatch(action.getQuestionError(id, error)));\n  };\n}\n;\nexport function getPost(id) {\n  const instance = axiosApi.axiosInstance();\n  let apiUrl = api.getPostApi(id);\n  return dispatch => {\n    dispatch(action.getPostPending(id));\n    instance.get(apiUrl).then(response => dispatch(action.getPostSuccess(response.data))).catch(error => dispatch(action.getPostError(id, error)));\n  };\n}\n;\nexport function getUserProfile(id) {\n  const instance = axiosApi.axiosInstance();\n  let apiUrl = api.getProfileApi(id);\n  return dispatch => {\n    dispatch(action.getUserProfilePending(id));\n    instance.get(apiUrl).then(response => {\n      console.log(response.data);\n      dispatch(action.getUserProfileSuccess(response.data));\n    }).catch(error => {\n      if (error.response) {\n        console.log(error.response.data);\n        dispatch(action.getUserProfileError(id, error.response.data));\n      } else {\n        console.log(error);\n        dispatch(action.handleError(error.request));\n      }\n    });\n  };\n}\n;\nexport function getCommentList(byId) {\n  return dispatch => {\n    dispatch(action.getCommentListPending(byId));\n  };\n}\n;\nexport function getReplyList(props) {\n  return dispatch => {\n    dispatch(action.getReplyListPending(props.actionType, props.byId));\n  };\n}\n;\nexport function getReplyChildrenList(props) {\n  let actionType = props.actionType,\n      byId = props.byId,\n      apiUrl = props.apiUrl;\n  const instance = axiosApi.axiosInstance();\n  return dispatch => {\n    dispatch(action.getReplyChildListPending(actionType, byId));\n    instance.get(apiUrl).then(response => dispatch(action.getReplyChildListSuccess(actionType, byId, response.data))).catch(error => dispatch(action.getReplyChildListError(actionType, byId, error)));\n  };\n}\n;\nexport function getCurrentUser(tokenKey) {\n  let instance = axiosApi.axiosInstance(tokenKey);\n  return dispatch => {\n    dispatch(action.getCurrentUserPending());\n    instance.get(\"/api/current/user/\").then(response => {\n      console.log(response);\n      dispatch(action.getCurrentUserSuccess(response.data));\n    }).catch(error => {\n      if (error.response && error.response.data) {\n        dispatch(action.getCurrentUserError(error.response.data));\n      } else {\n        dispatch(action.handleError(error.request));\n      }\n    });\n  };\n}\nexport function handleSubmit(props) {\n  console.log(props);\n  let actionType = props.actionType,\n      byId = props.byId,\n      objName = props.objName,\n      obj = props.obj,\n      formData = props.formData,\n      apiUrl = props.apiUrl;\n  const instance = axiosApi.axiosInstance();\n\n  if (props.isPut) {\n    return dispatch => {\n      dispatch(action.updateActionPending(actionType, byId));\n      instance.put(apiUrl, formData).then(response => {\n        var payLoad = prepPayLoad(objName, response.data);\n        console.log(payLoad, props);\n        dispatch(action.updateActionSuccess(actionType, byId, payLoad));\n        dispatch(action.hideModal());\n      }).catch(error => {\n        console.log(error);\n        dispatch(action.hideModal());\n\n        if (error.response && error.response.data) {\n          dispatch(action.updateActionError(actionType, byId, error.response.data));\n        } else {\n          dispatch(action.handleError(error.request));\n        }\n      });\n    };\n  } else if (props.isPost) {\n    return dispatch => {\n      dispatch(action.createActionPending(props.actionType));\n      instance.post(props.apiUrl, props.formData).then(response => {\n        dispatch(action.createActionSuccess(props.actionType, response.data));\n        dispatch(action.hideModal());\n      }).catch(error => {\n        if (error.response && error.response.data) {\n          dispatch(action.createActionError(props.actionType, error.response.data));\n        } else {\n          dispatch(action.handleError(error.request));\n        }\n\n        dispatch(action.hideModal());\n      });\n    };\n  } else {\n    return dispatch => {\n      dispatch(action.handleError());\n    };\n  }\n}\n;\n\nconst prepPayLoad = (objName, data) => {\n  console.log(objName, data);\n\n  if (objName === \"question\") {\n    data = {\n      questionObj: data\n    };\n  } else if (objName === \"answer\") {\n    data = {\n      answer: data\n    };\n  } else if (objName === \"comment\") {\n    data = {\n      comment: data\n    };\n  } else if (objName === \"reply\") {\n    data = {\n      reply: data\n    };\n  } else if (objName === \"post\") {\n    data = {\n      postObj: data\n    };\n  } else if (objName === \"userProfile\") {\n    data = {\n      user: data\n    };\n  } else if (objName === \"usersList\") {\n    data = {\n      user: data\n    };\n  }\n\n  return data;\n};","map":{"version":3,"sources":["/home/silasi/Deprojectos/javascript_projects/wiplay-it-web-frontend/src/dispatch/index.js"],"names":["Api","Axios","action","axiosApi","api","getUserList","props","instance","axiosInstance","apiUrl","usersById","dispatch","getUserListPending","get","then","response","getUserListSuccess","data","catch","error","getUserListError","handleError","getQuestionList","questionListById","console","log","getQuestionListApi","getQuestionListPending","getQuestionListSuccess","errors","getQuestionListError","getPostList","postListById","getPostListApi","getPostListPending","getPostListSuccess","getPostListError","getQuestion","id","getQuestionApi","getQuestionPending","getQuestionSuccess","getQuestionError","getPost","getPostApi","getPostPending","getPostSuccess","getPostError","getUserProfile","getProfileApi","getUserProfilePending","getUserProfileSuccess","getUserProfileError","request","getCommentList","byId","getCommentListPending","getReplyList","getReplyListPending","actionType","getReplyChildrenList","getReplyChildListPending","getReplyChildListSuccess","getReplyChildListError","getCurrentUser","tokenKey","getCurrentUserPending","getCurrentUserSuccess","getCurrentUserError","handleSubmit","objName","obj","formData","isPut","updateActionPending","put","payLoad","prepPayLoad","updateActionSuccess","hideModal","updateActionError","isPost","createActionPending","post","createActionSuccess","createActionError","questionObj","answer","comment","reply","postObj","user"],"mappings":"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","sourcesContent":["\nimport Api from 'api';\nimport Axios from 'axios_instance';\nimport  * as action  from 'actions/actionCreators';\n\n\nconst axiosApi = new Axios();  \nconst api = new Api();\n\n\n\nexport function getUserList(props) {\n  const instance = axiosApi.axiosInstance();  \n  var { apiUrl, usersById } = props;  \n  return dispatch => {\n      dispatch(action.getUserListPending(usersById))\n\t   instance.get(apiUrl)\n      .then(response => dispatch(action.getUserListSuccess(usersById, response.data)))\n      .catch(error => {\n      \tif (error.response) {\n      \t   dispatch(action.getUserListError(usersById, error.response.data));\n         }else{\n         \tdispatch(action.handleError());\n         }\n      }); \n   };\n};\n\n\n\nexport function getQuestionList(questionListById) {\n\tconsole.log(questionListById)\n   const instance = axiosApi.axiosInstance();  \n   let apiUrl     = api.getQuestionListApi();  \n   return dispatch => {\n      dispatch(action.getQuestionListPending(questionListById))\n\t   instance.get(apiUrl)\n      .then(response => dispatch(action.getQuestionListSuccess(questionListById,response.data)))\n      .catch(error => {\n      \tif (error.response) {\n      \t\tvar { errors } =  error.response.data\n      \t   dispatch(action.getQuestionListError(questionListById, errors ));\n         }else{\n         \tdispatch(action.handleError());\n         }\n      }); \n   };\n};\n\n\n\n\nexport function getPostList(postListById) {\n  const instance = axiosApi.axiosInstance();  \n  let   apiUrl     = api.getPostListApi();  \n  return dispatch => {\n      dispatch(action.getPostListPending(postListById))\n\t   instance.get(apiUrl)\n      .then(response => dispatch(action.getPostListSuccess(postListById, response.data)))\n      .catch(error => {\n      \tif (error.response) {\n      \t   dispatch(action.getPostListError(postListById, error.response.data));\n         }else{\n         \tdispatch(action.handleError());\n         }\n      }); \n   };\n};\n\n\n\nexport function getQuestion(id) {\n  const instance = axiosApi.axiosInstance();  \n  let apiUrl = api.getQuestionApi(id);\n  return dispatch => {\n      dispatch(action.getQuestionPending(id))\n\t   instance.get(apiUrl)\n      .then(response => dispatch(action.getQuestionSuccess(response.data)))\n      .catch(error => dispatch(action.getQuestionError(id, error))) \n   }\n};\n\n\n\nexport function getPost(id) {\n  const instance = axiosApi.axiosInstance();  \n  let apiUrl = api.getPostApi(id);\n  return dispatch => {\n      dispatch(action.getPostPending(id))\n\t   instance.get(apiUrl)\n      .then(response => dispatch(action.getPostSuccess(response.data)))\n      .catch(error => dispatch(action.getPostError(id, error))) \n   }\n};\n\n\n\n\nexport function getUserProfile(id) {\n  const instance = axiosApi.axiosInstance();  \n  let apiUrl    =   api.getProfileApi(id);\n  return dispatch => {\n      dispatch(action.getUserProfilePending(id))\n\t   instance.get(apiUrl)\n      .then(response => {\n      \tconsole.log(response.data)\n         dispatch(action.getUserProfileSuccess(response.data));\n       })\n      .catch(error => {\n      \t\n      \tif (error.response) {\n      \t\tconsole.log(error.response.data)\n      \t   dispatch(action.getUserProfileError(id, error.response.data));\n         }else{\n         \tconsole.log(error)\n         \tdispatch(action.handleError(error.request));\n         }\n      \t \n      });\n   }\n};\n\n\nexport function getCommentList(byId) {\n   return dispatch => {\n      dispatch(action.getCommentListPending(byId))\n\t}\n};\n\n\n\nexport function getReplyList(props) {\n   return dispatch => {\n      dispatch(action.getReplyListPending(props.actionType, props.byId ))\n   }\n};\n\n\n\nexport function getReplyChildrenList(props) {\n\tlet {actionType, byId, apiUrl} = props;\n\tconst instance = axiosApi.axiosInstance(); \n   \n   return dispatch => {\n      dispatch(action.getReplyChildListPending(actionType, byId))\n\t   instance.get(apiUrl)\n      .then(response => dispatch(action.getReplyChildListSuccess(actionType, byId, response.data)))\n      .catch(error => dispatch(action.getReplyChildListError(actionType, byId, error))) \n   }\n};\n\n\nexport function getCurrentUser(tokenKey) {\n\tlet instance = axiosApi.axiosInstance(tokenKey);\n\t\n\treturn dispatch => {\n\t\tdispatch(action.getCurrentUserPending());\n\n\t\tinstance.get(`/api/current/user/`)\n      .then(response => {\n      \tconsole.log(response)\n      \tdispatch(action.getCurrentUserSuccess(response.data)) })\n      .catch(error =>{\n      \tif (error.response && error.response.data) {\n      \t\tdispatch(action.getCurrentUserError(error.response.data))\n      \t}else{\n      \t\tdispatch(action.handleError(error.request))\n      \t}\n      });\n\t}\n}\n\n\n\n\nexport function handleSubmit(props) {\n   console.log(props)\n   let {actionType, byId, objName, obj, formData, apiUrl} = props;\n   const instance = axiosApi.axiosInstance();\n\n   if (props.isPut) {\n   \treturn dispatch => {\n     \tdispatch(action.updateActionPending(actionType,byId))\n\n\t\tinstance.put(apiUrl, formData)\n\t\t.then(response => {\n\t\t\tvar payLoad = prepPayLoad(objName, response.data);\n\t\t\tconsole.log(payLoad, props) \n\t\t\tdispatch(action.updateActionSuccess(actionType, byId, payLoad));\n\t\t\tdispatch(action.hideModal())\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.log(error)\n\t\t\tdispatch(action.hideModal())\n\t\t\tif (error.response && error.response.data) {\n\t\t\t   dispatch(action.updateActionError(actionType, byId, error.response.data));\n\t\t\t}else{\n      \t\tdispatch(action.handleError(error.request))\n      \t}\n\t   })\n\n\t}\n   }else if (props.isPost) {\n     return dispatch => {\n     \tdispatch(action.createActionPending( props.actionType ))\n\n\t\tinstance.post(props.apiUrl, props.formData)\n\t\t.then(response => {\n\t\t\t\n\t\t\tdispatch(action.createActionSuccess(props.actionType,response.data));\n         dispatch(action.hideModal());\n\t\t})\n\t\t.catch(error => {\n\t\t\t\t\n\t\t\tif (error.response && error.response.data) {\n\t\t\t\tdispatch(action.createActionError(props.actionType, error.response.data));\n      \t\t\n      \t}else{\n      \t\tdispatch(action.handleError(error.request))\n      \t}\n\t\t\tdispatch(action.hideModal())\n\t   })\n\n\t}\n\n   }else{\n\n      return dispatch =>{\n \t\t   dispatch(action.handleError())\n \t   }\n \t}\n};\n\n\nconst prepPayLoad = (objName, data)=>{\n\tconsole.log(objName, data)\n\tif(objName === \"question\"){\n\t   data = { questionObj : data };\n\t}\n\telse if(objName === \"answer\"){\n      data = { answer : data };\n\t}\n\telse if(objName === \"comment\"){\n\t\tdata = { comment : data };\n\t}\n\telse if(objName === \"reply\"){\n\t\tdata = { reply : data };\n\t}\n\telse if(objName === \"post\"){\n\t\tdata = { postObj : data };\n\t}\n\n\telse if(objName === \"userProfile\"){\n\t\tdata = {user : data};\n\t}\n\n\telse if(objName === \"usersList\"){\n\t\tdata = {user : data};\n\t}\n\n\n   return data;\n};  \n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}