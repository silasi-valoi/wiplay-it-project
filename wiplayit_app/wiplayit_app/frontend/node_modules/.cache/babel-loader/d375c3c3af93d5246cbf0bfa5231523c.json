{"ast":null,"code":"import _defineProperty from \"/home/silasi/Deprojectos/javascript_projects/wiplay-it-web-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/silasi/Deprojectos/javascript_projects/wiplay-it-web-frontend/src/containers/index/index_page.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport * as action from 'actions/actionCreators';\nimport { Link } from \"react-router-dom\";\nimport { NavigationBarSmallScreen, NavigationBarBigScreen } from \"components/navBar\";\nimport { store } from \"index\"; //import AnswersBox from \"containers/answer/answer_page\";\n\nimport { QuestionComponent } from \"components/question_components\";\nimport { PostComponent } from \"components/post_components\";\nimport AjaxLoader from \"components/ajax-loader\";\nimport { AnswersComponent } from \"components/answer_components\";\nimport withHigherOrderIndexBox from \"containers/index/higher_order_index\";\n\nclass IndexBox extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isHomeBox: true,\n      questionListById: 'filteredQuestions',\n      postListById: 'filteredPosts',\n      answerListById: 'filteredAnswers'\n    };\n  }\n\n  // static getDerivedStateFromError(error) {\n  // Update state so the next render will show the fallback UI.\n  //  return  dispatch => action.handleError(error);\n  // }\n  componentDidCatch(error, info) {\n    // You can also log the error to an error reporting service\n    console.log(error, info);\n  }\n\n  componentDidUpdate(nextProps, prevState) {//console.log(nextProps, this.props)\n  }\n\n  componentDidMount() {\n    let questionList = localStorage.getItem('questionList');\n    questionList = JSON.parse(questionList);\n    var questionListById = this.state.questionListById;\n\n    if (questionList) {\n      store.dispatch(action.getQuestionListPending(questionListById));\n      store.dispatch(action.getQuestionListSuccess(questionListById, questionList));\n    } else {\n      let optionsProps = this.state;\n      this.updateIndexEntyties(optionsProps);\n      this.props.getIndex(optionsProps);\n    }\n  }\n\n  updateIndexEntyties(params) {\n    var questionListById = params.questionListById,\n        answerListById = params.answerListById,\n        postListById = params.postListById;\n    store.dispatch(action.getQuestionListPending(questionListById));\n    store.dispatch(action.getAnswerListPending(answerListById));\n    store.dispatch(action.getPostListPending(postListById));\n  }\n\n  getProps() {\n    let props = _objectSpread({}, this.state);\n\n    return Object.assign(props, this.props);\n  }\n\n  render() {\n    let props = this.getProps();\n    console.log(props);\n    var index = props.entyties.index;\n    console.log(index);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(NavigationBarBigScreen, Object.assign({}, props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    })), React.createElement(NavigationBarSmallScreen, Object.assign({}, props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })), index ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, index.isLoading ? React.createElement(\"div\", {\n      className: \"page-spin-loader-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(AjaxLoader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })) : React.createElement(IndexComponent, Object.assign({}, props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }))) : \"\");\n  }\n\n}\n\n;\nexport default withHigherOrderIndexBox(IndexBox);\nexport const IndexComponent = props => {\n  var questionListById = props.questionListById,\n      answerListById = props.answerListById,\n      postListById = props.postListById,\n      entyties = props.entyties;\n  var questions = entyties.questions.byId[questionListById];\n  var posts = entyties.posts.byId[postListById];\n  var answers = entyties.answers.byId[answerListById];\n  return React.createElement(\"div\", {\n    className: \"home-page-contents\",\n    id: \"home-page-contents\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, React.createElement(Answers, Object.assign({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  })), React.createElement(Posts, Object.assign({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  })), React.createElement(Questions, Object.assign({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  })));\n};\nexport const Questions = props => {\n  var questionListById = props.questionListById,\n      entyties = props.entyties;\n  var questions = entyties.questions.byId[questionListById];\n  console.log(questions, props);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, questions && questions.questionList.length ? React.createElement(\"div\", {\n    className: \"home-page-contents\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, questions.questionList.map((question, index) => {\n    let contentsProps = {\n      question,\n      index\n    };\n    Object.assign(contentsProps, props);\n    return React.createElement(\"div\", {\n      key: index,\n      className: \"index-questions-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(QuestionComponent, Object.assign({}, contentsProps, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    })));\n  })) : \"\");\n};\nexport const Posts = props => {\n  var postListById = props.postListById,\n      entyties = props.entyties;\n  var posts = entyties.posts.byId[postListById];\n  console.log(posts, props);\n  return React.createElement(\"div\", {\n    className: \"index-questions-box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }, posts && posts.postList.length ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, posts.postList.map((post, index) => {\n    let contentsProps = {\n      post,\n      index\n    };\n    Object.assign(contentsProps, props);\n    return React.createElement(\"div\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(PostComponent, Object.assign({}, contentsProps, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    })));\n  })) : \"\");\n};\nexport const Answers = props => {\n  var answerListById = props.answerListById,\n      entyties = props.entyties;\n  var answers = entyties.answers.byId[answerListById];\n  return React.createElement(\"div\", {\n    className: \"index-answers-box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233\n    },\n    __self: this\n  }, answers && answers.answerList ? React.createElement(\"div\", {\n    className: \"answer-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"number-answers-box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }, answers.answerList.length > 1 ? React.createElement(\"p\", {\n    className: \"items-count\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242\n    },\n    __self: this\n  }, answers.answerList.length, \"  Answers\") : React.createElement(\"p\", {\n    className: \"items-count\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244\n    },\n    __self: this\n  }, answers.answerList.length, \" Answer\")), answers.answerList.map((answer, index) => {\n    let answerProps = {\n      answer,\n      index\n    };\n    let question = answer.question;\n    let questionPath = \"/question/\".concat(question.slug, \"/\");\n    Object.assign(answerProps, props);\n    return React.createElement(\"div\", {\n      key: index,\n      className: \"answer-contents\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: {\n        pathname: questionPath,\n        state: {\n          question\n        }\n      },\n      className: \"question-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, question.add_question))), React.createElement(AnswersComponent, Object.assign({}, answerProps, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    })));\n  })) : \"\");\n};","map":{"version":3,"sources":["/home/silasi/Deprojectos/javascript_projects/wiplay-it-web-frontend/src/containers/index/index_page.js"],"names":["React","Component","action","Link","NavigationBarSmallScreen","NavigationBarBigScreen","store","QuestionComponent","PostComponent","AjaxLoader","AnswersComponent","withHigherOrderIndexBox","IndexBox","constructor","props","state","isHomeBox","questionListById","postListById","answerListById","componentDidCatch","error","info","console","log","componentDidUpdate","nextProps","prevState","componentDidMount","questionList","localStorage","getItem","JSON","parse","dispatch","getQuestionListPending","getQuestionListSuccess","optionsProps","updateIndexEntyties","getIndex","params","getAnswerListPending","getPostListPending","getProps","Object","assign","render","index","entyties","isLoading","IndexComponent","questions","byId","posts","answers","Questions","length","map","question","contentsProps","Posts","postList","post","Answers","answerList","answer","answerProps","questionPath","slug","pathname","add_question"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport  * as action  from 'actions/actionCreators';\nimport { Link } from \"react-router-dom\";\n\nimport {NavigationBarSmallScreen,NavigationBarBigScreen } from \"components/navBar\";\nimport {store} from \"index\";\n//import AnswersBox from \"containers/answer/answer_page\";\nimport { QuestionComponent} from \"components/question_components\"\nimport { PostComponent} from \"components/post_components\"\n\nimport  AjaxLoader from \"components/ajax-loader\";\nimport { AnswersComponent } from \"components/answer_components\";\n\nimport withHigherOrderIndexBox from \"containers/index/higher_order_index\";\n\n\n\n\nclass IndexBox extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isHomeBox        : true,\n            questionListById : 'filteredQuestions',\n            postListById     : 'filteredPosts',\n            answerListById   : 'filteredAnswers',\n\n\n        } \n    };\n  \n\n    // static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    //  return  dispatch => action.handleError(error);\n    // }\n\n    componentDidCatch(error, info) {\n        // You can also log the error to an error reporting service\n        console.log(error, info);\n    }\n\n\n    componentDidUpdate(nextProps, prevState) {\n      //console.log(nextProps, this.props)\n    };\n\n         \n   \n    componentDidMount() {\n        let questionList  = localStorage.getItem('questionList');\n        questionList = JSON.parse(questionList)\n        var questionListById = this.state.questionListById;\n        \n        if (questionList) {\n            store.dispatch(action.getQuestionListPending(questionListById));\n            store.dispatch(action.getQuestionListSuccess(questionListById, questionList));\n        }\n        else{\n\n            let optionsProps = this.state;\n            this.updateIndexEntyties(optionsProps);\n            this.props.getIndex(optionsProps);                           \n        }\n    };\n\n    updateIndexEntyties(params){\n        var { questionListById, answerListById, postListById} = params;\n\n        store.dispatch(action.getQuestionListPending(questionListById));\n        store.dispatch(action.getAnswerListPending(answerListById));\n        store.dispatch(action.getPostListPending(postListById))\n\n    }\n\n\n    getProps(){\n        let props = {\n                ...this.state,\n        };\n\n        return Object.assign(props, this.props );  \n    };\n\n      \n    render() {\n        let props = this.getProps()\n        console.log(props)\n        var index  = props.entyties.index;\n        console.log(index)\n                     \n        return (\n\n            <div>\n\n                <NavigationBarBigScreen {...props}/>\n                <NavigationBarSmallScreen {...props}/>\n\n                { index?\n\n                    <div>\n                        { index.isLoading?\n                            <div className=\"page-spin-loader-box\">\n                                <AjaxLoader/>\n                            </div>\n\n                            :\n                            <IndexComponent {...props}/>\n                        } \n                    </div>\n\n                    :\n                   \"\"  \n                }           \n            </div>\n        );\n    };\n};\n\n\n\n\n\nexport default  withHigherOrderIndexBox(IndexBox);\n\n\nexport const IndexComponent = props => {\n   \n   var { questionListById, answerListById, postListById, entyties } = props;\n\n   var questions = entyties.questions.byId[questionListById];\n   var posts     = entyties.posts.byId[postListById];\n   var answers   = entyties.answers.byId[answerListById]; \n\n   return(\n     <div className=\"home-page-contents\" id=\"home-page-contents\">\n       <Answers {...props}/>\n       <Posts {...props}/>\n       <Questions {...props}/>\n\n     </div>\n   )\n\n}\n\n\nexport const Questions = props => {\n   \n    var { questionListById, entyties } = props;\n\n    var questions = entyties.questions.byId[questionListById];\n    console.log(questions, props)\n  \n    return (\n\n      <div>\n         { questions && questions.questionList.length?\n         <div className=\"home-page-contents\">\n\n            { questions.questionList.map((question, index) => {\n                let contentsProps = {question, index};\n                Object.assign(contentsProps, props)  \n\n                return (\n\n                  <div key={index} className=\"index-questions-box\">\n                     <QuestionComponent {...contentsProps}  />\n                  </div>\n               )\n            }\n            )}\n         </div>\n         :\n         \"\"\n\n      }\n       \n      </div>\n   );\n};\n\n\n\n\n\nexport const Posts = props => {\n   \n    var { postListById, entyties } = props;\n\n    var posts = entyties.posts.byId[postListById];\n    console.log(posts, props)\n  \n    return (\n\n      <div  className=\"index-questions-box\">\n         { posts && posts.postList.length?\n         <div>\n\n            { posts.postList.map((post, index) => {\n                let contentsProps = {post, index};\n                Object.assign(contentsProps, props)  \n\n                return (\n\n                  <div key={index} >\n                     <PostComponent {...contentsProps}  />\n                  </div>\n               )\n            }\n            )}\n         </div>\n         :\n         \"\"\n\n      }\n       \n      </div>\n   );\n};\n\n\n\n\n\n\nexport const Answers = props => {\n    var { answerListById, entyties } = props;\n    var answers   = entyties.answers.byId[answerListById]; \n         \n    return(\n        <div className=\"index-answers-box\">\n\n            {answers && answers.answerList?\n\n                <div className=\"answer-container\">\n                    <div className=\"number-answers-box\">\n\n                        { answers.answerList.length > 1? \n\n                            <p className=\"items-count\">{answers.answerList.length }  Answers</p>\n                            :\n                            <p className=\"items-count\">{answers.answerList.length } Answer</p>\n                        }\n                    </div>\n\n                    { answers.answerList.map((answer, index) => {\n\n                        let answerProps = { answer, index};\n                        let question = answer.question;\n                        let questionPath = `/question/${question.slug}/`;\n\n                        Object.assign(answerProps, props); \n      \n                        return ( \n                            <div key={index} className=\"answer-contents\"> \n                                <div>\n                                <b className=\"\">\n                                    <Link to={{pathname: questionPath, state : {question} }} className=\"question-link\">\n                                       { question.add_question }\n                                    </Link>\n                                </b>\n                                </div>\n                                <AnswersComponent {...answerProps}/>\n                            </div>\n                        );\n                    }\n                    )}\n                </div>\n\n                :\n\n                \"\"\n            }\n\n        </div> \n    )\n};"]},"metadata":{},"sourceType":"module"}