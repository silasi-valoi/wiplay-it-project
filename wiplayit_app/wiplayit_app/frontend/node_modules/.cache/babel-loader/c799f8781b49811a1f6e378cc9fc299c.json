{"ast":null,"code":"import Api from 'api';\nimport Axios from 'axios_instance';\nimport * as action from 'actions/actionCreators';\nconst axiosApi = new Axios(true);\nconst api = new Api();\nexport function getIndex(options) {\n  const instance = axiosApi.axiosInstance();\n  let apiUrl = api.getIndexApi();\n  return dispatch => {\n    dispatch(action.getIndexPending());\n    instance.get(apiUrl).then(response => {\n      let _response$data = response.data,\n          posts = _response$data.posts,\n          questions = _response$data.questions,\n          answers = _response$data.answers;\n      var questionListById = options.questionListById,\n          answerListById = options.answerListById,\n          postListById = options.postListById;\n      dispatch(action.getAnswerListSuccess(answerListById, answers));\n      dispatch(action.getQuestionListSuccess(questionListById, questions));\n      dispatch(action.getPostListSuccess(postListById, posts));\n      dispatch(action.getIndexSuccess(options));\n    }).catch(error => {\n      if (error.response) {\n        var errors = error.response.data.errors;\n        dispatch(action.getIndexError(errors));\n      } else {\n        dispatch(action.handleError());\n      }\n    });\n  };\n}\n;\nexport function getUserList(props) {\n  const instance = axiosApi.axiosInstance();\n  var apiUrl = props.apiUrl,\n      usersById = props.usersById;\n  return dispatch => {\n    dispatch(action.getUserListPending(usersById));\n    instance.get(apiUrl).then(response => dispatch(action.getUserListSuccess(usersById, response.data))).catch(error => {\n      if (error.response) {\n        dispatch(action.getUserListError(usersById, error.response.data));\n      } else {\n        dispatch(action.handleError());\n      }\n    });\n  };\n}\n;\nexport function getQuestionList(questionListById) {\n  console.log(questionListById);\n  const instance = axiosApi.axiosInstance();\n  let apiUrl = api.getQuestionListApi();\n  return dispatch => {\n    dispatch(action.getQuestionListPending(questionListById));\n    instance.get(apiUrl).then(response => dispatch(action.getQuestionListSuccess(questionListById, response.data))).catch(error => {\n      if (error.response) {\n        var errors = error.response.data.errors;\n        dispatch(action.getQuestionListError(questionListById, errors));\n      } else {\n        dispatch(action.handleError());\n      }\n    });\n  };\n}\n;\nexport function getPostList(postListById) {\n  const instance = axiosApi.axiosInstance();\n  let apiUrl = api.getPostListApi();\n  return dispatch => {\n    dispatch(action.getPostListPending(postListById));\n    instance.get(apiUrl).then(response => dispatch(action.getPostListSuccess(postListById, response.data))).catch(error => {\n      if (error.response) {\n        dispatch(action.getPostListError(postListById, error.response.data));\n      } else {\n        dispatch(action.handleError());\n      }\n    });\n  };\n}\n;\nexport function getQuestion(id) {\n  const instance = axiosApi.axiosInstance();\n  let apiUrl = api.getQuestionApi(id);\n  return dispatch => {\n    dispatch(action.getQuestionPending(id));\n    instance.get(apiUrl).then(response => dispatch(action.getQuestionSuccess(response.data))).catch(error => {\n      console.log(error);\n      dispatch(action.getQuestionError(id, error));\n    });\n  };\n}\n;\nexport function getPost(id) {\n  const instance = axiosApi.axiosInstance();\n  let apiUrl = api.getPostApi(id);\n  return dispatch => {\n    dispatch(action.getPostPending(id));\n    instance.get(apiUrl).then(response => dispatch(action.getPostSuccess(response.data))).catch(error => dispatch(action.getPostError(id, error)));\n  };\n}\n;\nexport function getUserProfile(id) {\n  const instance = axiosApi.axiosInstance();\n  let apiUrl = api.getProfileApi(id);\n  return dispatch => {\n    dispatch(action.getUserProfilePending(id));\n    instance.get(apiUrl).then(response => {\n      console.log(response.data);\n      dispatch(action.getUserProfileSuccess(response.data));\n    }).catch(error => {\n      if (error.response) {\n        console.log(error.response.data);\n        dispatch(action.getUserProfileError(id, error.response.data));\n      } else {\n        console.log(error);\n        dispatch(action.handleError(error.request));\n      }\n    });\n  };\n}\n;\nexport function getCommentList(byId) {\n  return dispatch => {\n    dispatch(action.getCommentListPending(byId));\n  };\n}\n;\nexport function getReplyList(props) {\n  return dispatch => {\n    dispatch(action.getReplyListPending(props.actionType, props.byId));\n  };\n}\n;\nexport function getReplyChildrenList(props) {\n  let actionType = props.actionType,\n      byId = props.byId,\n      apiUrl = props.apiUrl,\n      children = props.children;\n  const instance = axiosApi.axiosInstance();\n  console.log(props);\n\n  if (children && children.length) {\n    return dispatch => {\n      dispatch(action.getReplyChildListPending(actionType, byId));\n      dispatch(action.getReplyChildListSuccess(actionType, byId, children));\n    };\n  }\n\n  return dispatch => {\n    dispatch(action.getReplyChildListPending(actionType, byId));\n    instance.get(apiUrl).then(response => dispatch(action.getReplyChildListSuccess(actionType, byId, response.data))).catch(error => dispatch(action.getReplyChildListError(actionType, byId, error)));\n  };\n}\n;\nexport function getCurrentUser(tokenKey) {\n  let instance = axiosApi.axiosInstance();\n  console.log(tokenKey);\n  return dispatch => {\n    dispatch(action.getCurrentUserPending());\n    instance.get(\"/api/current/user/\").then(response => {\n      console.log(response);\n      dispatch(action.getCurrentUserSuccess(response.data));\n    }).catch(error => {\n      if (error.response && error.response.data) {\n        dispatch(action.getCurrentUserError(error.response.data));\n      } else {\n        dispatch(action.handleError(error.request));\n      }\n    });\n  };\n}\nexport function handleSubmit(props) {\n  console.log(props);\n  let actionType = props.actionType,\n      byId = props.byId,\n      objName = props.objName,\n      formData = props.formData,\n      apiUrl = props.apiUrl;\n  byId = byId ? byId : \"newObject\";\n  const instance = axiosApi.axiosInstance();\n\n  if (props.isPut) {\n    return dispatch => {\n      dispatch(action.updateActionPending(actionType, byId));\n      instance.put(apiUrl, formData).then(response => {\n        var payLoad = prepPayLoad(objName, response.data);\n        console.log(payLoad, props);\n        dispatch(action.updateActionSuccess(actionType, byId, payLoad));\n        dispatch(action.hideModal());\n      }).catch(error => {\n        console.log(error);\n        dispatch(action.hideModal());\n\n        if (error.response && error.response.data) {\n          dispatch(action.updateActionError(actionType, byId, error.response.data));\n        } else {\n          dispatch(action.handleError(error.request));\n        }\n      });\n    };\n  } else if (props.isPost) {\n    return dispatch => {\n      dispatch(action.createActionPending(byId, props.actionType));\n      instance.post(props.apiUrl, props.formData).then(response => {\n        dispatch(action.createActionSuccess(byId, props.actionType, response.data));\n        dispatch(action.hideModal());\n      }).catch(error => {\n        if (error.response && error.response.data) {\n          dispatch(action.createActionError(byId, props.actionType, error.response.data));\n        } else {\n          dispatch(action.handleError(error.request));\n        }\n\n        dispatch(action.hideModal());\n      });\n    };\n  } else {\n    return dispatch => {\n      dispatch(action.handleError());\n    };\n  }\n}\n;\n\nconst prepPayLoad = (objName, data) => {\n  if (objName === \"question\") {\n    data = {\n      questionObj: data\n    };\n  } else if (objName === \"answer\") {\n    data = {\n      answer: data\n    };\n  } else if (objName === \"comment\") {\n    data = {\n      comment: data\n    };\n  } else if (objName === \"reply\") {\n    data = {\n      reply: data\n    };\n  } else if (objName === \"post\") {\n    data = {\n      postObj: data\n    };\n  } else if (objName === \"userProfile\") {\n    data = {\n      user: data\n    };\n  } else if (objName === \"usersList\") {\n    data = {\n      user: data\n    };\n  }\n\n  return data;\n};","map":{"version":3,"sources":["/home/silasi/Deprojectos/python_projects/wiplay-it-backend/backend/wiplay-it-web-frontend/src/dispatch/index.js"],"names":["Api","Axios","action","axiosApi","api","getIndex","options","instance","axiosInstance","apiUrl","getIndexApi","dispatch","getIndexPending","get","then","response","data","posts","questions","answers","questionListById","answerListById","postListById","getAnswerListSuccess","getQuestionListSuccess","getPostListSuccess","getIndexSuccess","catch","error","errors","getIndexError","handleError","getUserList","props","usersById","getUserListPending","getUserListSuccess","getUserListError","getQuestionList","console","log","getQuestionListApi","getQuestionListPending","getQuestionListError","getPostList","getPostListApi","getPostListPending","getPostListError","getQuestion","id","getQuestionApi","getQuestionPending","getQuestionSuccess","getQuestionError","getPost","getPostApi","getPostPending","getPostSuccess","getPostError","getUserProfile","getProfileApi","getUserProfilePending","getUserProfileSuccess","getUserProfileError","request","getCommentList","byId","getCommentListPending","getReplyList","getReplyListPending","actionType","getReplyChildrenList","children","length","getReplyChildListPending","getReplyChildListSuccess","getReplyChildListError","getCurrentUser","tokenKey","getCurrentUserPending","getCurrentUserSuccess","getCurrentUserError","handleSubmit","objName","formData","isPut","updateActionPending","put","payLoad","prepPayLoad","updateActionSuccess","hideModal","updateActionError","isPost","createActionPending","post","createActionSuccess","createActionError","questionObj","answer","comment","reply","postObj","user"],"mappings":"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","sourcesContent":["\nimport Api from 'api';\nimport Axios from 'axios_instance';\nimport  * as action  from 'actions/actionCreators';\n\n\nconst axiosApi = new Axios(true);  \nconst api = new Api();\n\n\n\nexport function getIndex(options) {\n    const instance = axiosApi.axiosInstance();  \n    let apiUrl     = api.getIndexApi(); \n\n    \n\n    return dispatch => {\n       dispatch(action.getIndexPending());\n       instance.get(apiUrl)\n       .then(response => {\n                       \n            let {posts, questions, answers } = response.data;\n            var { questionListById, answerListById, postListById} = options;\n\n            dispatch(action.getAnswerListSuccess(answerListById, answers));\n            dispatch(action.getQuestionListSuccess(questionListById, questions));\n            dispatch(action.getPostListSuccess(postListById, posts));\n\n            dispatch(action.getIndexSuccess(options));\n\n            \n       })\n       .catch(error => {\n            if (error.response) {\n               var { errors } =  error.response.data\n               dispatch(action.getIndexError( errors ));\n\n            }else{\n                dispatch(action.handleError());\n         }\n      }); \n   };\n};\n\n\n\nexport function getUserList(props) {\n  const instance = axiosApi.axiosInstance();  \n  var { apiUrl, usersById } = props;  \n  return dispatch => {\n      dispatch(action.getUserListPending(usersById))\n\t   instance.get(apiUrl)\n      .then(response => dispatch(action.getUserListSuccess(usersById, response.data)))\n      .catch(error => {\n      \tif (error.response) {\n      \t   dispatch(action.getUserListError(usersById, error.response.data));\n         }else{\n         \tdispatch(action.handleError());\n         }\n      }); \n   };\n};\n\n\n\nexport function getQuestionList(questionListById) {\n\tconsole.log(questionListById)\n   const instance = axiosApi.axiosInstance();  \n   let apiUrl     = api.getQuestionListApi();  \n   return dispatch => {\n      dispatch(action.getQuestionListPending(questionListById))\n\t   instance.get(apiUrl)\n      .then(response => dispatch(action.getQuestionListSuccess(questionListById,response.data)))\n      .catch(error => {\n      \tif (error.response) {\n      \t\tvar { errors } =  error.response.data\n      \t   dispatch(action.getQuestionListError(questionListById, errors ));\n         }else{\n         \tdispatch(action.handleError());\n         }\n      }); \n   };\n};\n\n\n\n\nexport function getPostList(postListById) {\n  const instance = axiosApi.axiosInstance();  \n  let   apiUrl     = api.getPostListApi();  \n  return dispatch => {\n      dispatch(action.getPostListPending(postListById))\n\t   instance.get(apiUrl)\n      .then(response => dispatch(action.getPostListSuccess(postListById, response.data)))\n      .catch(error => {\n      \tif (error.response) {\n      \t   dispatch(action.getPostListError(postListById, error.response.data));\n         }else{\n         \tdispatch(action.handleError());\n         }\n      }); \n   };\n};\n\n\n\nexport function getQuestion(id) {\n  const instance = axiosApi.axiosInstance();  \n  let apiUrl = api.getQuestionApi(id);\n  return dispatch => {\n      dispatch(action.getQuestionPending(id))\n\t   instance.get(apiUrl)\n      .then(response => dispatch(action.getQuestionSuccess(response.data)))\n      .catch(error => {\n           console.log(error)\n           dispatch(action.getQuestionError(id, error));\n       })\n   }\n};\n\n\n\nexport function getPost(id) {\n  const instance = axiosApi.axiosInstance();  \n  let apiUrl = api.getPostApi(id);\n  return dispatch => {\n      dispatch(action.getPostPending(id))\n\t   instance.get(apiUrl)\n      .then(response => dispatch(action.getPostSuccess(response.data)))\n      .catch(error => dispatch(action.getPostError(id, error))) \n   }\n};\n\n\n\n\nexport function getUserProfile(id) {\n    const instance = axiosApi.axiosInstance();  \n    let apiUrl    =   api.getProfileApi(id);\n\n    return dispatch => {\n\n        dispatch(action.getUserProfilePending(id))\n\t    instance.get(apiUrl)\n        .then(response => {\n        \tconsole.log(response.data)\n            dispatch(action.getUserProfileSuccess(response.data));\n        })\n        .catch(error => {\n      \t\n      \t    if (error.response) {\n      \t\t    console.log(error.response.data)\n      \t        dispatch(action.getUserProfileError(id, error.response.data));\n            }else{\n         \t    console.log(error)\n         \t    dispatch(action.handleError(error.request));\n            }\n        });\n    }\n};\n\n\nexport function getCommentList(byId) {\n    return dispatch => {\n        dispatch(action.getCommentListPending(byId))\n\t}\n};\n\n\n\nexport function getReplyList(props) {\n   return dispatch => {\n      dispatch(action.getReplyListPending(props.actionType, props.byId ))\n   }\n};\n\n\n\nexport function getReplyChildrenList(props) {\n    let {actionType, byId, apiUrl, children } = props;\n    const instance = axiosApi.axiosInstance();\n\n    console.log(props)\n\n    if (children && children.length) {\n        return dispatch => {\n            dispatch(action.getReplyChildListPending(actionType, byId));\n            dispatch(action.getReplyChildListSuccess(actionType, byId, children));\n        }\n        \n    }\n\n    return dispatch => {\n       dispatch(action.getReplyChildListPending(actionType, byId))\n\t   instance.get(apiUrl)\n      .then(response => dispatch(action.getReplyChildListSuccess(actionType, byId, response.data)))\n      .catch(error => dispatch(action.getReplyChildListError(actionType, byId, error))) \n   }\n};\n\n\nexport function getCurrentUser(tokenKey) {\n\tlet instance = axiosApi.axiosInstance();\n    console.log(tokenKey)\n\t\n\treturn dispatch => {\n\t  \tdispatch(action.getCurrentUserPending());\n\n\t\tinstance.get(`/api/current/user/`)\n      .then(response => {\n      \tconsole.log(response)\n      \tdispatch(action.getCurrentUserSuccess(response.data)) })\n      .catch(error =>{\n      \tif (error.response && error.response.data) {\n      \t\tdispatch(action.getCurrentUserError(error.response.data))\n      \t}else{\n      \t\tdispatch(action.handleError(error.request))\n      \t}\n      });\n\t}\n}\n\n\n\n\nexport function handleSubmit(props) {\n   console.log(props)\n   let { actionType, byId, objName, formData, apiUrl } = props;\n   \n   byId = byId?byId:\"newObject\"; \n   const instance = axiosApi.axiosInstance();\n      \n   if (props.isPut) {\n   \treturn dispatch => {\n     \tdispatch(action.updateActionPending(actionType,byId))\n\n\t\tinstance.put(apiUrl, formData)\n\t\t.then(response => {\n\t\t\tvar payLoad = prepPayLoad(objName, response.data);\n\t\t\tconsole.log(payLoad, props) \n\t\t\tdispatch(action.updateActionSuccess(actionType, byId, payLoad));\n\t\t\tdispatch(action.hideModal())\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.log(error)\n\t\t\tdispatch(action.hideModal())\n\t\t\tif (error.response && error.response.data) {\n\t\t\t   dispatch(action.updateActionError(actionType, byId, error.response.data));\n\t\t\t}else{\n      \t\tdispatch(action.handleError(error.request))\n      \t}\n\t   })\n\n\t}\n   }else if (props.isPost) {\n        return dispatch => {\n     \t    dispatch(action.createActionPending(byId, props.actionType ))\n\n\t\t    instance.post(props.apiUrl, props.formData)\n\t\t    .then(response => {\n\t\t\t\n\t\t\t    dispatch(action.createActionSuccess(byId, props.actionType, response.data));\n                dispatch(action.hideModal());\n\t\t    })\n\t\t    .catch(error => {\n\t\t\t\t\n\t\t\t    if (error.response && error.response.data) {\n\t\t\t\t    dispatch(action.createActionError(byId ,props.actionType, error.response.data));\n      \t\t\n         \t    }else{\n      \t        \tdispatch(action.handleError(error.request))\n      \t        }\n\n\t\t\t    dispatch(action.hideModal())\n\t        })\n   \t}\n\n   }else{\n\n      return dispatch =>{\n \t\t   dispatch(action.handleError())\n \t   }\n \t}\n};\n\n\nconst prepPayLoad = (objName, data)=>{\n\t\n\tif(objName === \"question\"){\n\t   data = { questionObj : data };\n\t}\n\telse if(objName === \"answer\"){\n      data = { answer : data };\n\t}\n\telse if(objName === \"comment\"){\n\t\tdata = { comment : data };\n\t}\n\telse if(objName === \"reply\"){\n\t\tdata = { reply : data };\n\t}\n\telse if(objName === \"post\"){\n\t\tdata = { postObj : data };\n\t}\n\n\telse if(objName === \"userProfile\"){\n\t\tdata = {user : data};\n\t}\n\n\telse if(objName === \"usersList\"){\n\t\tdata = {user : data};\n\t}\n\n\n   return data;\n};  \n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}