{"ast":null,"code":"import * as types from 'actions/types';\nconst InitialState = {\n  userAuth: {\n    isOnSignUpForm: false,\n    isOnPasswordResetForm: false,\n    isLoading: false,\n    auth: {\n      tokenKey: \"\",\n      isLoggedIn: false\n    }\n  },\n  currentUser: {\n    user: \"\"\n  },\n  userProfile: {\n    byId: {},\n    allIds: []\n  },\n  users: {\n    byId: {},\n    allIds: []\n  },\n  index: {\n    isLoading: false,\n    error: ''\n  },\n  questions: {\n    byId: {},\n    allIds: []\n  },\n  posts: {\n    byId: {},\n    allIds: []\n  },\n  question: {\n    byId: {},\n    allIds: []\n  },\n  post: {\n    byId: {},\n    allIds: []\n  },\n  answers: {\n    byId: {},\n    allIds: []\n  },\n  comments: {\n    byId: {},\n    allIds: []\n  },\n  replies: {\n    byId: {},\n    allIds: []\n  }\n};\nexport function entyties(state = InitialState, action) {\n  switch (action.type) {\n    case types.USER_AUTHENTICATION.PENDING:\n      Object.assign(state, action.payload);\n      return state;\n\n    case types.USER_AUTHENTICATION.SUCCESS:\n      Object.assign(state.userAuth, action.payload);\n      return state;\n\n    case types.USER_AUTHENTICATION.ERROR:\n      Object.assign(state.userAuth, action.payload);\n      return state;\n\n    case types.TOGGLE.SIGNUP_FORM:\n      Object.assign(state.userAuth, action.payload);\n      return state;\n\n    case types.TOGGLE.PASSWORD_RESET_FORM:\n      Object.assign(state.userAuth, action.payload);\n      return state;\n\n    case types.GET_CURRENT_USER.SUCCESS:\n      Object.assign(state.currentUser, action.payload);\n      return state;\n\n    case types.GET_CURRENT_USER.ERROR:\n      Object.assign(state.currentUser, action.payload);\n      return state;\n\n    case types.GET_CURRENT_USER.PENDING:\n      Object.assign(state.currentUser, action.payload);\n      return state;\n\n    case types.GET_USER_PROFILE.PENDING:\n      if (!state.userProfile.byId[action.profileById]) {\n        Object.defineProperty(state.userProfile.byId, action.profileById, {\n          value: action.payload\n        });\n      }\n\n      return state;\n\n    case types.GET_USER_PROFILE.SUCCESS:\n      Object.assign(state.userProfile.byId[action.profileById], action.payload);\n      return state;\n\n    case types.GET_USER_PROFILE.ERROR:\n      Object.assign(state.userProfile.byId[action.profileById], action.payload);\n      return state;\n\n    case types.GET_USER_LIST.PENDING:\n      console.log(state, action);\n\n      if (!state.users.byId[action.byId]) {\n        Object.defineProperty(state.users.byId, action.byId, {\n          value: action.payload\n        });\n      }\n\n      return state;\n\n    case types.GET_USER_LIST.SUCCESS:\n      Object.assign(state.users.byId[action.byId], action.payload);\n      return state;\n\n    case types.GET_USER_LIST.ERROR:\n      Object.assign(state.users.byId[action.byId], action.payload);\n      return state;\n\n    case types.GET_INDEX.PENDING:\n      Object.assign(state.index, action.payload);\n      return state;\n\n    case types.GET_INDEX.SUCCESS:\n      console.log(state, action);\n      Object.assign(state.index, action.payload);\n      return state;\n\n    case types.GET_INDEX.ERROR:\n      Object.assign(state.index, action.payload);\n      return state;\n\n    case types.GET_QUESTION_LIST.PENDING:\n      console.log(state, action);\n\n      if (!state.questions.byId[action.byId]) {\n        Object.defineProperty(state.questions.byId, action.byId, {\n          value: action.payload\n        });\n      }\n\n      return state;\n\n    case types.GET_QUESTION_LIST.SUCCESS:\n      Object.assign(state.questions.byId[action.byId], action.payload);\n      return state;\n\n    case types.GET_QUESTION_LIST.ERROR:\n      Object.assign(state.questions.byId[action.byId], action.payload);\n      return state;\n\n    case types.GET_QUESTION.PENDING:\n      if (!state.question.byId[action.questionById]) {\n        Object.defineProperty(state.question.byId, action.questionById, {\n          value: action.payload\n        });\n      }\n\n      return state;\n\n    case types.GET_QUESTION.SUCCESS:\n      var questionObj = action.payload.questionObj;\n      var answerById = \"answer\".concat(questionObj.id);\n      var answerState = {\n        answerList: questionObj.answers,\n        newObject: \"\",\n        isLoading: false,\n        visited: false,\n        error: ''\n      };\n      Object.assign(state.question.byId[action.questionById], action.payload);\n\n      if (questionObj.answers.length) {\n        Object.defineProperty(state.answers.byId, answerById, {\n          value: answerState\n        });\n      }\n\n      return state;\n\n    case types.GET_QUESTION.ERROR:\n      if (state.question.byId[action.questionById]) {\n        Object.assign(state.question.byId[action.questionById], action.payload);\n      }\n\n      return state;\n\n    case types.GET_POST_LIST.PENDING:\n      console.log(state, action);\n\n      if (!state.posts.byId[action.byId]) {\n        Object.defineProperty(state.posts.byId, action.byId, {\n          value: action.payload\n        });\n      }\n\n      return state;\n\n    case types.GET_POST_LIST.SUCCESS:\n      console.log(state, action);\n      Object.assign(state.posts.byId[action.byId], action.payload);\n      return state;\n\n    case types.GET_POST_LIST.ERROR:\n      Object.assign(state.posts.byId[action.byId], action.payload);\n      return state;\n\n    case types.GET_POST.PENDING:\n      if (!state.post.byId[action.postById]) {\n        Object.defineProperty(state.post.byId, action.postById, {\n          value: action.payload\n        });\n      }\n\n      return state;\n\n    case types.GET_POST.SUCCESS:\n      var post = action.payload.post; //var commentById = `commentsPost${post.id}`;\n\n      console.log(state, post);\n      /*\n      var commentsState = {\n         commentList      : post.comments,\n         showLink         : post.comments.length?true:false,\n         isLoading        : false,\n         error            : '',\n         linkData : {\n            comment       : post.comments[0],\n            numOfComments : post.comments.length,\n         },\n      };*/\n\n      Object.assign(state.post.byId[action.postById], action.payload);\n\n      if (post.comments.length) {//Object.defineProperty(state.comments.byId, commentById, {value : commentsState});\n      }\n\n      return state;\n\n    case types.GET_POST.ERROR:\n      Object.assign(state.post.byId[action.postById], action.payload);\n      return state;\n\n    case types.GET_ANSWER_LIST.PENDING:\n      if (!state.answers.byId[action.byId]) {\n        Object.defineProperty(state.answers.byId, action.byId, {\n          value: action.payload\n        });\n      }\n\n      return state;\n\n    case types.GET_ANSWER_LIST.SUCCESS:\n      console.log(state.answers, action);\n      Object.assign(state.answers.byId[action.byId], action.payload);\n      return state;\n\n    case types.GET_ANSWER_LIST.ERROR:\n      Object.assign(state.answers.byId[action.byId], action.payload);\n      return state;\n\n    case 'GET_COMMENT_LINK_DATA':\n      if (!state.comments.byId[action.byId]) {\n        Object.defineProperty(state.comments.byId, action.byId, {\n          value: action.payload\n        });\n        Object.defineProperty(state.comments.allIds, action.byId, {\n          value: state.comments.byId[action.byId]\n        });\n      }\n\n      return state;\n\n    case 'GET_REPLY_LINK_DATA':\n      console.log(action);\n\n      if (!state.replies.byId[action.byId]) {\n        Object.defineProperty(state.replies.byId, action.byId, {\n          value: action.payload\n        });\n        Object.defineProperty(state.replies.allIds, action.byId, {\n          value: state.replies.byId[action.byId]\n        });\n      }\n\n      return state;\n\n    case 'GET_REPLY_CHILD_LINK_DATA':\n      console.log(action, state.replies);\n\n      if (!state.replies.byId[action.byId]) {\n        Object.defineProperty(state.replies.byId, action.byId, {\n          value: action.payload\n        });\n        Object.defineProperty(state.replies.allIds, action.byId, {\n          value: state.replies.byId[action.byId]\n        });\n      }\n\n      return state;\n\n    case types.CREATE_QUESTION.PENDING:\n      console.log(action);\n      var questionById = action.ById ? action.ById : \"creatingNewQuestion\";\n\n      if (!state.question.byId[questionById]) {\n        Object.defineProperty(state.question.byId, questionById, {\n          value: action.payload\n        });\n      }\n\n      return state;\n\n    case types.CREATE_QUESTION.SUCCESS:\n      Object.assign(state.question.byId[action.ById], state, action.payload);\n      return state;\n\n    case types.CREATE_QUESTION.ERROR:\n      Object.assign(state.question.byId[action.ById], action.payload);\n      return state;\n\n    case 'VIEW_NEW_QUESTION':\n      Object.assign(state.question.byId[action.questionById], action.payload);\n      return state;\n\n    case types.CREATE_ANSWER.PENDING:\n      Object.assign(state.answers.byId[action.answerById], action.payload);\n      return state;\n\n    case types.CREATE_ANSWER.SUCCESS:\n      Object.assign(state.answers.byId[action.answerById], action.payload);\n      return state;\n\n    case types.CREATE_ANSWER.ERROR:\n      Object.assign(state.question.byId[action.answerById], action.payload);\n      return state;\n\n    /* \n     case types.CREATE_COMMENT.PENDING:\n        Object.assign(state.comments.byId[action.commentById], action.payload)\n        return state;\n      case types.CREATE_COMMENT.SUCCESS:\n        Object.assign(state.comments.byId[action.commentById], action.payload)\n        return state;\n     \n     case types.CREATE_COMMENT.ERROR:\n       Object.assign(state.comments.byId[action.commentById], action.payload)\n       return state;  \n       */\n\n    case types.GET_COMMENT_LIST.PENDING:\n      console.log(action);\n      Object.assign(state.comments.byId[action.byId], action.payload);\n      return state;\n\n    case types.GET_REPLY_LIST.PENDING:\n      console.log(action);\n      Object.assign(state.replies.byId[action.byId], action.payload);\n      return state;\n\n    case types.GET_REPLY_CHILD_LIST.PENDING:\n      Object.assign(state.replies.byId[action.byId], action.payload);\n      return state;\n\n    case types.GET_REPLY_CHILD_LIST.SUCCESS:\n      Object.assign(state.replies.byId[action.byId], action.payload);\n      return state;\n\n    case types.GET_REPLY_CHILD_LIST.ERROR:\n      Object.assign(state.replies.byId[action.byId], action.payload);\n      return state;\n\n    /*\n    case types.CREATE_REPLY.PENDING:\n    Object.assign(state.replies.byId[action.replyById], action.payload)\n    return state;\n    case types.CREATE_REPLY.SUCCESS:\n    Object.assign(state.replies.byId[action.replyById], state, action.payload)\n    return state;\n        case types.CREATE_REPLY.ERROR:\n    Object.assign(state.replies.byId[action.replyById], action.payload)\n    return state;  \n    */\n\n    case types.UPDATE_USER_PROFILE.PENDING:\n      if (state.userProfile.byId[action.byId]) {\n        var userProfile = state.userProfile.byId[action.byId];\n        var user = userProfile.user;\n\n        if (user.is_following) {\n          user.is_following = false;\n        } else {\n          user.is_following = true;\n        }\n\n        Object.assign(state.userProfile.byId[action.byId], user);\n      }\n\n      return state;\n\n    case types.UPDATE_USER_PROFILE.SUCCESS:\n      Object.assign(state.userProfile.byId[action.byId], action.payload);\n      return state;\n\n    case types.UPDATE_USER_PROFILE.ERROR:\n      var profileToUpdate = state.userProfile.byId[action.byId];\n\n      if (profileToUpdate.user.is_following) {\n        profileToUpdate.user.is_following = false;\n      } else {\n        profileToUpdate.user.is_following = true;\n      }\n\n      Object.assign(state.userProfile.byId[action.byId], {\n        user: profileToUpdate.user,\n        error: action.payload\n      });\n      return state;\n\n    case types.UPDATE_USER_LIST.PENDING:\n      console.log(action, state);\n\n      if (state.users.byId[action.byId]) {\n        var users = state.users.byId[action.byId];\n        Object.assign(state.users.byId[action.byId], action.payload);\n      }\n\n      return state;\n\n    case types.UPDATE_USER_LIST.SUCCESS:\n      var userUpdate = action.payload.user;\n      var usersToUpdate = state.users.byId[action.byId];\n      usersToUpdate.userList.map((user, index) => {\n        if (usersToUpdate.id === userUpdate.id) {\n          usersToUpdate.userList[index] = userUpdate;\n          Object.assign(state.users.byId[action.byId], usersToUpdate);\n          console.log(state.users, action);\n        }\n\n        return users;\n      });\n      return state;\n\n    case types.UPDATE_USER_LIST.ERROR:\n      var users = state.users.byId[action.byId];\n      Object.assign(state.users.byId[action.byId], {\n        error: action.payload\n      });\n      return state;\n\n    case types.UPDATE_QUESTION.PENDING:\n      Object.assign(state.question.byId[action.byId], action.payload);\n      return state;\n\n    case types.UPDATE_QUESTION.SUCCESS:\n      Object.assign(state.question.byId[action.byId], action.payload);\n      return state;\n\n    case types.UPDATE_QUESTION.ERROR:\n      Object.assign(state.question.byId[action.byId], action.payload);\n      return state;\n\n    case types.UPDATE_ANSWER.PENDING:\n      Object.assign(state.answers.byId[action.byId], action.payload);\n      return state;\n\n    case types.UPDATE_ANSWER.SUCCESS:\n      Object.assign(state.answers.byId[action.byId], action.payload);\n      return state;\n\n    case types.UPDATE_ANSWER.ERROR:\n      Object.assign(state.answers.byId[action.byId], action.payload);\n      return state;\n\n    case types.UPDATE_COMMENT.PENDING:\n      Object.assign(state.comments.byId[action.byId], action.payload);\n      return state;\n\n    case types.UPDATE_COMMENT.SUCCESS:\n      let commentUpdate = action.payload.comment;\n      var comments = state.comments;\n      comments.map((comment, index) => {\n        if (comment.id === commentUpdate.id) {\n          comments[index] = commentUpdate;\n          Object.assign(state.comments.byId[action.byId], comments);\n        }\n\n        return comments;\n      });\n      console.log(state);\n      return state;\n\n    case types.UPDATE_COMMENT.ERROR:\n      Object.assign(state.comments.byId[action.byId], action.payload);\n      return state;\n\n    case types.UPDATE_REPLY.PENDING:\n      Object.assign(state.replies.byId[action.byId], action.payload);\n      return state;\n\n    case types.UPDATE_REPLY.SUCCESS:\n      let replyUpdate = action.payload.reply;\n      var replies = state.replies.byId[action.byId];\n\n      if (replies && replies.replyList.length) {\n        var replyList = replies.replyList;\n        replyList.map((reply, index) => {\n          if (reply.id === replyUpdate.id) {\n            replyList[index] = replyUpdate;\n            Object.assign(state.replies.byId[action.byId], replyList);\n          }\n\n          return replyList;\n        });\n      }\n\n      console.log(state, replyUpdate);\n      return state;\n\n    case types.UPDATE_REPLY.ERROR:\n      Object.assign(state.replies.byId[action.byId], action.payload);\n      return state;\n\n    default:\n      return state;\n  }\n}\nconst modalState = {\n  isOpen: false,\n  modalType: null,\n  modalProps: {}\n};\nexport function modal(state = modalState, action) {\n  switch (action.type) {\n    case 'SHOW_MODAL':\n      console.log(state, action);\n      let newModal = Object.assign({}, state, action.payload);\n      console.log(newModal, state);\n      return newModal;\n\n    case 'HIDE_MODAL':\n      let hideModal = Object.assign({}, state, action.payload);\n      return hideModal;\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/home/silasi/Deprojectos/javascript_projects/wiplay-it-web-frontend/src/reducers/lib/appReducers.js"],"names":["types","InitialState","userAuth","isOnSignUpForm","isOnPasswordResetForm","isLoading","auth","tokenKey","isLoggedIn","currentUser","user","userProfile","byId","allIds","users","index","error","questions","posts","question","post","answers","comments","replies","entyties","state","action","type","USER_AUTHENTICATION","PENDING","Object","assign","payload","SUCCESS","ERROR","TOGGLE","SIGNUP_FORM","PASSWORD_RESET_FORM","GET_CURRENT_USER","GET_USER_PROFILE","profileById","defineProperty","value","GET_USER_LIST","console","log","GET_INDEX","GET_QUESTION_LIST","GET_QUESTION","questionById","questionObj","answerById","id","answerState","answerList","newObject","visited","length","GET_POST_LIST","GET_POST","postById","GET_ANSWER_LIST","CREATE_QUESTION","ById","CREATE_ANSWER","GET_COMMENT_LIST","GET_REPLY_LIST","GET_REPLY_CHILD_LIST","UPDATE_USER_PROFILE","is_following","profileToUpdate","UPDATE_USER_LIST","userUpdate","usersToUpdate","userList","map","UPDATE_QUESTION","UPDATE_ANSWER","UPDATE_COMMENT","commentUpdate","comment","UPDATE_REPLY","replyUpdate","reply","replyList","modalState","isOpen","modalType","modalProps","modal","newModal","hideModal"],"mappings":"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","sourcesContent":["\nimport  * as types  from 'actions/types';\n\n\n\n\nconst InitialState = {\n\n   userAuth : {\n      isOnSignUpForm         : false,\n      isOnPasswordResetForm  : false,\n      isLoading              : false,\n\n      auth : {\n         tokenKey    : \"\",\n         isLoggedIn  : false,\n      },\n   \n   },\n\n   currentUser : {\n      user: \"\",\n   },\n\n   userProfile : {\n      byId   : {},\n      allIds : []\n   },\n\n   users : {\n     byId   : {},\n     allIds : [] \n   },\n\n   index : {\n      isLoading : false,\n      error     : '',\n   },\n\n   questions : {\n      byId   : {},\n      allIds : []\n   },\n\n   posts     : {\n      byId   : {},\n      allIds : []\n   },\n\n   question  : {\n      byId   : {},\n      allIds : [],\n   },\n\n   post      : {\n      byId   : {},\n      allIds : []\n   },\n\n   answers  : {\n      byId   : {},\n      allIds : []\n   },\n\n   comments : {\n      byId   : {},\n      allIds : []\n   },\n\n   replies : {\n      byId   : {},\n      allIds : []\n   },\n   \n}\n\n\nexport function entyties(state=InitialState, action) {\n   switch (action.type){\n\n       case types.USER_AUTHENTICATION.PENDING :\n         Object.assign(state, action.payload)\n         return state; \n      case types.USER_AUTHENTICATION.SUCCESS:\n         Object.assign(state.userAuth, action.payload);\n         return state;              \n\n      case types.USER_AUTHENTICATION.ERROR:\n         Object.assign(state.userAuth, action.payload)\n         return state;\n          \n\n      case types.TOGGLE.SIGNUP_FORM:\n         Object.assign(state.userAuth, action.payload)\n         return state;   \n\n      case types.TOGGLE.PASSWORD_RESET_FORM:\n         Object.assign(state.userAuth, action.payload)\n         return state;\n\n\n\n\n\n      case types.GET_CURRENT_USER.SUCCESS:\n         Object.assign(state.currentUser, action.payload)\n         \n         return state;   \n                  \n\n      case types.GET_CURRENT_USER.ERROR:\n         Object.assign(state.currentUser, action.payload)\n         return state;    \n\n      case types.GET_CURRENT_USER.PENDING:\n        Object.assign(state.currentUser, action.payload)\n        return state;    \n\n\n      case types.GET_USER_PROFILE.PENDING:\n         if (!state.userProfile.byId[action.profileById]) {\n            Object.defineProperty(state.userProfile.byId, action.profileById, {value : action.payload});\n         }\n         return state;\n\n      case types.GET_USER_PROFILE.SUCCESS:\n         Object.assign(state.userProfile.byId[action.profileById], action.payload);\n         return state;\n\n      case types.GET_USER_PROFILE.ERROR:\n         Object.assign(state.userProfile.byId[action.profileById], action.payload);\n         return state;\n              \n\n      case types.GET_USER_LIST.PENDING:\n         console.log(state, action)\n         if (!state.users.byId[action.byId]) {\n            Object.defineProperty(state.users.byId, action.byId, {value : action.payload});\n         }\n         return state;\n\n      case types.GET_USER_LIST.SUCCESS:\n         Object.assign(state.users.byId[action.byId], action.payload);\n         return state;\n\n      case types.GET_USER_LIST.ERROR:\n         Object.assign(state.users.byId[action.byId], action.payload);\n         return state;\n\n\n      case types.GET_INDEX.PENDING:\n         Object.assign(state.index, action.payload);\n         return state;       \n\n      case types.GET_INDEX.SUCCESS:\n         console.log(state, action)\n         Object.assign(state.index, action.payload);   \n         return state;    \n\n      case types.GET_INDEX.ERROR:\n         Object.assign(state.index, action.payload);\n         return state;           \n\n\n      case types.GET_QUESTION_LIST.PENDING:\n         console.log(state, action)\n         if (!state.questions.byId[action.byId]) {\n            Object.defineProperty(state.questions.byId, action.byId, {value : action.payload});\n         }\n         return state;       \n\n      case types.GET_QUESTION_LIST.SUCCESS:\n         Object.assign(state.questions.byId[action.byId], action.payload);   \n         return state;    \n\n      case types.GET_QUESTION_LIST.ERROR:\n         Object.assign(state.questions.byId[action.byId], action.payload);\n         return state;            \n       \n\n\n\n      case types.GET_QUESTION.PENDING:\n\n         if (!state.question.byId[action.questionById]) {\n            Object.defineProperty(state.question.byId, action.questionById, {value : action.payload});\n         }\n         return state;      \n      \n      case types.GET_QUESTION.SUCCESS:\n         var questionObj = action.payload.questionObj;\n         var answerById = `answer${questionObj.id}`;\n         var answerState = {\n            answerList    : questionObj.answers,\n            newObject     : \"\",\n            isLoading     : false,\n            visited       : false,\n            error         : '',\n         }\n\n         Object.assign(state.question.byId[action.questionById], action.payload);\n         if (questionObj.answers.length) {\n             Object.defineProperty(state.answers.byId, answerById, {value : answerState});\n         }\n         return state; \n\n      case types.GET_QUESTION.ERROR:\n         if (state.question.byId[action.questionById]) {\n            Object.assign(state.question.byId[action.questionById], action.payload);\n         }\n         return state;\n\n\n      case types.GET_POST_LIST.PENDING:\n         console.log(state, action)\n         if (!state.posts.byId[action.byId]) {\n            Object.defineProperty(state.posts.byId, action.byId, {value : action.payload});\n         }\n         return state;       \n\n      case types.GET_POST_LIST.SUCCESS:\n         console.log(state, action)\n         Object.assign(state.posts.byId[action.byId], action.payload);   \n         return state;    \n\n      case types.GET_POST_LIST.ERROR:\n         Object.assign(state.posts.byId[action.byId], action.payload);\n         return state;              \n\n\n      case types.GET_POST.PENDING:\n         if (!state.post.byId[action.postById]) {\n            Object.defineProperty(state.post.byId, action.postById, {value : action.payload});\n         }\n         return state;\n\n      case types.GET_POST.SUCCESS:\n         var post = action.payload.post;\n         //var commentById = `commentsPost${post.id}`;\n         console.log(state, post)\n         /*\n         var commentsState = {\n            commentList      : post.comments,\n            showLink         : post.comments.length?true:false,\n            isLoading        : false,\n            error            : '',\n            linkData : {\n               comment       : post.comments[0],\n               numOfComments : post.comments.length,\n            },\n         };*/\n\n         Object.assign(state.post.byId[action.postById], action.payload);\n         if (post.comments.length) {\n            //Object.defineProperty(state.comments.byId, commentById, {value : commentsState});\n         }\n         return state;\n\n      case types.GET_POST.ERROR:\n         Object.assign(state.post.byId[action.postById], action.payload);\n         return state; \n\n\n      case types.GET_ANSWER_LIST.PENDING:\n         if (!state.answers.byId[action.byId]) {\n            Object.defineProperty(state.answers.byId, action.byId, {value : action.payload});\n         }\n         return state;\n\n\n      case types.GET_ANSWER_LIST.SUCCESS:\n         console.log(state.answers, action)\n         Object.assign(state.answers.byId[action.byId],action.payload);\n         return state; \n\n      case types.GET_ANSWER_LIST.ERROR:\n         Object.assign(state.answers.byId[action.byId],action.payload);\n         return state;     \n\n      case 'GET_COMMENT_LINK_DATA':\n         if (!state.comments.byId[action.byId]) {\n            Object.defineProperty(state.comments.byId, action.byId,\n                                                           { value :action.payload});\n             Object.defineProperty(state.comments.allIds, action.byId ,\n                       { value : state.comments.byId[action.byId] });   \n         } \n         return state; \n\n      case 'GET_REPLY_LINK_DATA':\n         console.log(action)\n         if (!state.replies.byId[action.byId]) {\n            Object.defineProperty(state.replies.byId, action.byId, { value :action.payload});  \n            Object.defineProperty(state.replies.allIds, action.byId,\n                         { value : state.replies.byId[action.byId] });\n         }\n\n         return state; \n\n      case 'GET_REPLY_CHILD_LINK_DATA':\n         console.log(action, state.replies)\n         if (!state.replies.byId[action.byId]) {\n           Object.defineProperty(state.replies.byId, action.byId, {value : action.payload});\n           Object.defineProperty(state.replies.allIds, action.byId,\n                                   { value : state.replies.byId[action.byId] });\n         }\n         return state;\n\n      case types.CREATE_QUESTION.PENDING:\n         console.log(action)\n         var questionById = action.ById? action.ById:\n                                                   \"creatingNewQuestion\";\n         if (!state.question.byId[questionById]) {\n            Object.defineProperty(state.question.byId, questionById, {value:action.payload} );\n         }\n\n         return state;\n\n      case types.CREATE_QUESTION.SUCCESS:\n         Object.assign(state.question.byId[action.ById], state, action.payload);\n         return state;\n      \n      case types.CREATE_QUESTION.ERROR:\n        Object.assign(state.question.byId[action.ById], action.payload);\n        return state;  \n\n      case 'VIEW_NEW_QUESTION':\n         Object.assign(state.question.byId[action.questionById], action.payload);\n         return state;  \n\n      case types.CREATE_ANSWER.PENDING:\n         Object.assign(state.answers.byId[action.answerById], action.payload)\n         return state;\n\n      case types.CREATE_ANSWER.SUCCESS:\n         Object.assign(state.answers.byId[action.answerById], action.payload)\n         return state;\n      \n      case types.CREATE_ANSWER.ERROR:\n        Object.assign(state.question.byId[action.answerById], action.payload)\n        return state;     \n     /* \n      case types.CREATE_COMMENT.PENDING:\n         Object.assign(state.comments.byId[action.commentById], action.payload)\n         return state;\n\n      case types.CREATE_COMMENT.SUCCESS:\n         Object.assign(state.comments.byId[action.commentById], action.payload)\n         return state;\n      \n      case types.CREATE_COMMENT.ERROR:\n        Object.assign(state.comments.byId[action.commentById], action.payload)\n        return state;  \n        */\n\n      case types.GET_COMMENT_LIST.PENDING:\n         console.log(action)\n         Object.assign(state.comments.byId[action.byId], action.payload)\n         return state;    \n\n      case types.GET_REPLY_LIST.PENDING:\n         console.log(action)\n         Object.assign(state.replies.byId[action.byId], action.payload)\n         return state;    \n\n      case  types.GET_REPLY_CHILD_LIST.PENDING:\n         Object.assign(state.replies.byId[action.byId],action.payload);\n         return state; \n\n      case  types.GET_REPLY_CHILD_LIST.SUCCESS:\n         Object.assign(state.replies.byId[action.byId],action.payload);\n         return state;\n      \n      case  types.GET_REPLY_CHILD_LIST.ERROR:\n         Object.assign(state.replies.byId[action.byId],action.payload);\n         return state;     \n         /*\n      case types.CREATE_REPLY.PENDING:\n         Object.assign(state.replies.byId[action.replyById], action.payload)\n         return state;\n\n      case types.CREATE_REPLY.SUCCESS:\n         Object.assign(state.replies.byId[action.replyById], state, action.payload)\n         return state;\n      \n      case types.CREATE_REPLY.ERROR:\n         Object.assign(state.replies.byId[action.replyById], action.payload)\n         return state;  \n      */\n      case types.UPDATE_USER_PROFILE.PENDING:\n      if (state.userProfile.byId[action.byId]) {\n            var userProfile =state.userProfile.byId[action.byId];\n            var user = userProfile.user\n            if (user.is_following) {\n               user.is_following = false\n            }else{\n               user.is_following = true\n            }\n           \n            Object.assign(state.userProfile.byId[action.byId], user);\n         }\n        return state;\n\n      case types.UPDATE_USER_PROFILE.SUCCESS:\n         Object.assign(state.userProfile.byId[action.byId], action.payload);\n        return state;  \n\n      case types.UPDATE_USER_PROFILE.ERROR:\n         var profileToUpdate =state.userProfile.byId[action.byId];\n         \n         if (profileToUpdate.user.is_following) {\n            profileToUpdate.user.is_following = false\n         }else{\n            profileToUpdate.user.is_following = true\n         }\n\n        Object.assign(state.userProfile.byId[action.byId], {user : profileToUpdate.user, error: action.payload});\n        return state;  \n\n\n      case types.UPDATE_USER_LIST.PENDING:\n         console.log(action, state)\n         if (state.users.byId[action.byId]) {\n            var users =state.users.byId[action.byId];\n            Object.assign(state.users.byId[action.byId], action.payload);\n         }\n        return state;\n\n      case types.UPDATE_USER_LIST.SUCCESS:\n         var userUpdate = action.payload.user;\n         var usersToUpdate =state.users.byId[action.byId];\n\n         usersToUpdate.userList.map((user, index) => {\n            \n            if (usersToUpdate.id === userUpdate.id) {\n               usersToUpdate.userList[index] = userUpdate; \n               Object.assign(state.users.byId[action.byId], usersToUpdate );\n               console.log(state.users, action)\n            }\n            return users;\n         })\n         \n         return state;  \n\n      case types.UPDATE_USER_LIST.ERROR:\n        var users =state.users.byId[action.byId];\n        Object.assign(state.users.byId[action.byId], {error: action.payload});\n        return state;  \n\n\n      case types.UPDATE_QUESTION.PENDING:\n         Object.assign(state.question.byId[action.byId], action.payload);\n         return state;\n\n      case types.UPDATE_QUESTION.SUCCESS:\n         Object.assign(state.question.byId[action.byId], action.payload);\n         return state;                  \n      \n\n      case types.UPDATE_QUESTION.ERROR:\n         Object.assign(state.question.byId[action.byId], action.payload);\n         return state;   \n\n\n      case types.UPDATE_ANSWER.PENDING:\n         Object.assign(state.answers.byId[action.byId], action.payload);\n         return state;\n\n      case types.UPDATE_ANSWER.SUCCESS:\n         Object.assign(state.answers.byId[action.byId], action.payload);\n         return state;                  \n      \n\n      case types.UPDATE_ANSWER.ERROR:\n         Object.assign(state.answers.byId[action.byId], action.payload);\n         return state;     \n                      \n      \n      case types.UPDATE_COMMENT.PENDING:\n         Object.assign(state.comments.byId[action.byId], action.payload );\n         return state\n\n      case types.UPDATE_COMMENT.SUCCESS:\n         let commentUpdate = action.payload.comment;\n         var comments = state.comments;\n\n         comments.map((comment, index) => {\n            if (comment.id === commentUpdate.id) {\n               comments[index] = commentUpdate; \n               Object.assign(state.comments.byId[action.byId], comments );\n            }\n            return comments;\n         })\n\n         console.log(state)\n         return state\n      \n      case types.UPDATE_COMMENT.ERROR:\n         Object.assign(state.comments.byId[action.byId], action.payload );\n         return state       \n      \n\n\n      case types.UPDATE_REPLY.PENDING:\n         Object.assign(state.replies.byId[action.byId], action.payload );\n         return state\n\n      case types.UPDATE_REPLY.SUCCESS:\n         let replyUpdate = action.payload.reply;\n                 \n         var replies = state.replies.byId[action.byId]; \n\n         if (replies && replies.replyList.length) {\n            var replyList = replies.replyList;\n\n            replyList.map((reply, index) => {\n               if (reply.id === replyUpdate.id) {\n                  replyList[index] = replyUpdate; \n                  Object.assign(state.replies.byId[action.byId], replyList );\n               }\n               return replyList;\n            })\n         }\n         console.log(state, replyUpdate)\n         return state\n    \n      case types.UPDATE_REPLY.ERROR:\n         Object.assign(state.replies.byId[action.byId], action.payload );\n         return state\n       \n\n      default:\n         return state; \n   }\n}\n\n   \n\nconst modalState = {\n   isOpen     : false,\n   modalType  : null,\n   modalProps : {},  \n};\n\n\n\nexport  function modal(state=modalState, action) {\n   switch (action.type){\n      case 'SHOW_MODAL':\n      console.log(state, action)\n          let newModal  = Object.assign({}, state, action.payload)\n         console.log(newModal, state);   \n         return newModal;  \n\n       case 'HIDE_MODAL':\n          let hideModal  = Object.assign({}, state, action.payload)\n          return hideModal;    \n         \n      default:\n         return state;\n   }\n}\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}