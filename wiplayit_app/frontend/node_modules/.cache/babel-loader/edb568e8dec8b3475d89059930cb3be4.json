{"ast":null,"code":"import axios from 'axios';\nlet API_URL = 'http://www.latiro.com:8000';\nlet MobileAPI_URL = 'http://192.168.43.97:8000';\nexport default class Axios {\n  axiosInstance(with_token = true, tokenKey = null) {\n    //console.log(with_token, tokenKey)     \n    let baseURL = API_URL;\n\n    if (window.navigator.platform === 'Linux armv7l') {\n      baseURL = MobileAPI_URL;\n    }\n\n    var instance = axios.create({\n      baseURL: baseURL\n    }); //alert(with_token) \n\n    if (with_token) {\n      //retrive token from storage\n      let auth = localStorage.getItem('auth') ? true : false;\n\n      if (auth) {\n        auth = localStorage.getItem('auth');\n        auth = JSON.parse(auth);\n        tokenKey = auth.tokenKey;\n      }\n\n      if (tokenKey || auth) {\n        tokenKey = \"Token \".concat(tokenKey);\n        instance.defaults.headers.common['Authorization'] = tokenKey;\n      }\n    }\n\n    instance.defaults.timeout = 30000;\n    return instance;\n  }\n\n}","map":{"version":3,"sources":["/home/silasi/Deprojectos/javascript_projects/wiplay-it-web-frontend/src/axios_instance.js"],"names":["axios","API_URL","MobileAPI_URL","Axios","axiosInstance","with_token","tokenKey","baseURL","window","navigator","platform","instance","create","auth","localStorage","getItem","JSON","parse","defaults","headers","common","timeout"],"mappings":"AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAIC,OAAO,GAAG,4BAAd;AACA,IAAIC,aAAa,GAAG,2BAApB;AAMA,eAAe,MAAMC,KAAN,CAAY;AAExBC,EAAAA,aAAa,CAACC,UAAU,GAAC,IAAZ,EAAkBC,QAAQ,GAAC,IAA3B,EAAgC;AAC1C;AAED,QAAIC,OAAO,GAAGN,OAAd;;AAEA,QAAGO,MAAM,CAACC,SAAP,CAAiBC,QAAjB,KAA8B,cAAjC,EAAgD;AAC3CH,MAAAA,OAAO,GAAIL,aAAX;AACH;;AAED,QAAIS,QAAQ,GAAGX,KAAK,CAACY,MAAN,CAAa;AACzBL,MAAAA,OAAO,EAAEA;AADgB,KAAb,CAAf,CAT0C,CAa1C;;AAEA,QAAIF,UAAJ,EAAgB;AACb;AACA,UAAIQ,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,IAA8B,IAA9B,GAAqC,KAAhD;;AACA,UAAIF,IAAJ,EAAU;AACPA,QAAAA,IAAI,GAAIC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAR;AACAF,QAAAA,IAAI,GAAGG,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAAP;AACAP,QAAAA,QAAQ,GAAGO,IAAI,CAACP,QAAhB;AACF;;AACD,UAAIA,QAAQ,IAAIO,IAAhB,EAAsB;AACnBP,QAAAA,QAAQ,mBAAWA,QAAX,CAAR;AACAK,QAAAA,QAAQ,CAACO,QAAT,CAAkBC,OAAlB,CAA0BC,MAA1B,CAAiC,eAAjC,IAAoDd,QAApD;AACF;AACH;;AAEDK,IAAAA,QAAQ,CAACO,QAAT,CAAkBG,OAAlB,GAA4B,KAA5B;AACA,WAAOV,QAAP;AACF;;AAjCuB","sourcesContent":["\nimport axios from 'axios';\n\nlet API_URL = 'http://www.latiro.com:8000';\nlet MobileAPI_URL = 'http://192.168.43.97:8000'\n\n\n  \n  \n\nexport default class Axios {\n\n   axiosInstance(with_token=true, tokenKey=null){\n      //console.log(with_token, tokenKey)     \n\n    \tlet baseURL = API_URL;\n\n    \tif(window.navigator.platform === 'Linux armv7l'){\n          baseURL =  MobileAPI_URL;\n      }\n\n      var instance = axios.create({\n         baseURL: baseURL,\n      });\n\n      //alert(with_token) \n\n      if (with_token) {\n         //retrive token from storage\n         let auth = localStorage.getItem('auth' )?true : false;\n         if (auth) {\n            auth  = localStorage.getItem('auth');\n            auth = JSON.parse(auth)\n            tokenKey = auth.tokenKey;\n         }\n         if (tokenKey || auth) {\n            tokenKey =`Token ${tokenKey}`;\n            instance.defaults.headers.common['Authorization'] = tokenKey;\n         }\n      }\n\n      instance.defaults.timeout = 30000;\n      return instance;\n   };\n\n}\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}