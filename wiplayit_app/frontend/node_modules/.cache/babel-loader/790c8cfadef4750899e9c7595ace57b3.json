{"ast":null,"code":"var _jsxFileName = \"/home/silasi/Deprojectos/javascript_projects/wiplay-it-web-frontend/src/containers/profile/profile_page.js\";\nimport React, { Component } from 'react';\nimport { ModalManager } from 'react-dynamic-modal';\nimport { PartalNavigationBar, NavigationBarBigScreen } from \"components/navBar\";\nimport * as action from 'actions/actionCreators';\nimport { ProfileComponent, UserAnswers } from \"components/profile_components\";\nimport withMain from 'containers/higher-order-components/main';\nimport { store } from \"index\";\nimport AjaxLoader from \"components/ajax-loader\";\n\nclass ProfilePage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userItemsComponent: UserAnswers,\n      isProfileBox: true,\n      pageName: \"Profile\",\n      profileById: ''\n    };\n    this.redirectToEdit = this.redirectToEdit.bind(this);\n  }\n\n  componentDidUpdate(nextProps, prevProps) {\n    var profileById = this.state.profileById;\n    const userProfile = nextProps.entyties.userProfile.byId[profileById];\n    aletr('hi');\n\n    if (userProfile) {\n      console.log(userProfile);\n      let user = userProfile.user;\n      var answers = nextProps.entyties.answers;\n\n      if (user) {\n        var byId = \"usersAnswers\".concat(user.id);\n        answers = answers.byId[byId];\n        var usersAnswers = userProfile.answers;\n\n        if (!answers) {\n          store.dispatch(action.getAnswerListPending(byId));\n          store.dispatch(action.getAnswerListSuccess(byId, usersAnswers));\n        }\n      }\n    }\n  }\n\n  componentDidMount() {\n    console.log(this.props);\n    let location_state = this.props.location.state;\n\n    if (location_state.userProfile) {\n      let userId = location_state.userProfile.id;\n      this.setState({\n        profileById: \"userProfile\".concat(userId)\n      });\n      this.props.getUserProfile(userId);\n    }\n  }\n\n  showUserItems(params) {\n    let items = params.items,\n        component = params.component,\n        byId = params.byId,\n        data = params.data;\n    this.setState({\n      userItemsComponent: component\n    });\n\n    switch (items) {\n      case 'isUsersAnswers':\n        store.dispatch(action.getAnswerListPending(byId));\n        store.dispatch(action.getAnswerListSuccess(byId, data));\n        return;\n\n      case 'isUsersQuestions':\n        store.dispatch(action.getQuestionListPending(byId));\n        store.dispatch(action.getQuestionListSuccess(byId, data));\n        return;\n\n      case 'isUsersPosts':\n        store.dispatch(action.getPostListPending(byId));\n        store.dispatch(action.getPostListSuccess(byId, data));\n        return;\n\n      case 'isUsersFollowings':\n        console.log(data, items);\n        store.dispatch(action.getUserListPending(byId));\n        store.dispatch(action.getUserListSuccess(byId, data));\n        return;\n\n      case 'isUsersFollowers':\n        store.dispatch(action.getUserListPending(byId));\n        store.dispatch(action.getUserListSuccess(byId, data));\n        return;\n\n      default:\n        console.log(data, items);\n        return;\n    }\n  }\n\n  redirectToEdit(params) {\n    ModalManager.close();\n    console.log(this.props);\n    this.props.history.push(params.pathToEditProfile, params.state);\n  }\n\n  getProps() {\n    let props = {\n      pageName: this.state.pageName,\n      userItemsComponent: this.state.userItemsComponent,\n      showUserItems: this.showUserItems.bind(this),\n      isProfileBox: this.state.isProfileBox,\n      redirectToEdit: this.redirectToEdit,\n      profileById: this.state.profileById\n    };\n    return Object.assign(props, this.props);\n  }\n\n  render() {\n    let props = this.getProps();\n    var profileById = props.profileById;\n    const userProfile = props.entyties.userProfile.byId[profileById];\n    return React.createElement(\"div\", {\n      id: \"profile-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(PartalNavigationBar, Object.assign({}, props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    })), React.createElement(NavigationBarBigScreen, Object.assign({}, props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    })), userProfile ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, userProfile.isLoading ? React.createElement(\"div\", {\n      className: \"page-spin-loder-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(AjaxLoader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    })) : React.createElement(ProfileComponent, Object.assign({}, props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }))) : \"\");\n  }\n\n}\n\n;\nexport default withMain(ProfilePage);","map":{"version":3,"sources":["/home/silasi/Deprojectos/javascript_projects/wiplay-it-web-frontend/src/containers/profile/profile_page.js"],"names":["React","Component","ModalManager","PartalNavigationBar","NavigationBarBigScreen","action","ProfileComponent","UserAnswers","withMain","store","AjaxLoader","ProfilePage","constructor","props","state","userItemsComponent","isProfileBox","pageName","profileById","redirectToEdit","bind","componentDidUpdate","nextProps","prevProps","userProfile","entyties","byId","aletr","console","log","user","answers","id","usersAnswers","dispatch","getAnswerListPending","getAnswerListSuccess","componentDidMount","location_state","location","userId","setState","getUserProfile","showUserItems","params","items","component","data","getQuestionListPending","getQuestionListSuccess","getPostListPending","getPostListSuccess","getUserListPending","getUserListSuccess","close","history","push","pathToEditProfile","getProps","Object","assign","render","isLoading"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport { ModalManager } from 'react-dynamic-modal';\n\nimport {PartalNavigationBar,NavigationBarBigScreen } from \"components/navBar\";\n\nimport  * as action  from 'actions/actionCreators';\n\nimport { ProfileComponent, UserAnswers } from \"components/profile_components\";\n\nimport withMain  from 'containers/higher-order-components/main';\nimport {store} from \"index\";\n\nimport  AjaxLoader from \"components/ajax-loader\";\n\n\n\n\n\n\nclass ProfilePage extends Component {\n\n   constructor(props) {\n      super(props);\n         this.state = {\n            userItemsComponent : UserAnswers,\n            isProfileBox       : true,\n            pageName           : \"Profile\", \n            profileById        : '',\n         } \n\n         this.redirectToEdit =  this.redirectToEdit.bind(this);\n   };\n\n   componentDidUpdate(nextProps, prevProps){ \n      var profileById = this.state.profileById;\n      const userProfile = nextProps.entyties.userProfile.byId[profileById];\n      aletr('hi')\n      \n      if (userProfile) {\n         console.log(userProfile)\n         let user   = userProfile.user; \n         var answers      = nextProps.entyties.answers;\n         if (user) {\n            var byId         =`usersAnswers${user.id}`;\n            answers          = answers.byId[byId]\n            var usersAnswers = userProfile.answers;\n            if (!answers) {\n               store.dispatch(action.getAnswerListPending(byId));\n               store.dispatch(action.getAnswerListSuccess(byId, usersAnswers));\n            }\n         }\n      }\n   }\n  \n  \n\n   componentDidMount() {\n      console.log(this.props)\n      let location_state = this.props.location.state;\n\n      if (location_state.userProfile) {\n         let userId    =   location_state.userProfile.id;\n         this.setState({profileById:`userProfile${userId}`});\n         this.props.getUserProfile(userId);\n      }\n   };\n   \n   showUserItems(params) {\n      let {items, component, byId, data } = params;\n      this.setState({userItemsComponent : component})\n\n      switch(items){\n         case 'isUsersAnswers':\n            store.dispatch(action.getAnswerListPending(byId));\n            store.dispatch(action.getAnswerListSuccess(byId, data));\n            return; \n         case 'isUsersQuestions':\n            store.dispatch(action.getQuestionListPending(byId));\n            store.dispatch(action.getQuestionListSuccess(byId, data));\n            return;\n            \n         case 'isUsersPosts':\n            store.dispatch(action.getPostListPending(byId));\n            store.dispatch(action.getPostListSuccess(byId, data));\n           return;\n         \n         case 'isUsersFollowings':\n            console.log(data, items)\n            store.dispatch(action.getUserListPending(byId));\n            store.dispatch(action.getUserListSuccess(byId, data));\n            return;\n\n         case 'isUsersFollowers':\n            store.dispatch(action.getUserListPending(byId));\n            store.dispatch(action.getUserListSuccess(byId, data));  \n            return;  \n\n         default:\n            console.log(data, items)\n            return;  \n      }\n   }\n\n   redirectToEdit(params){\n      ModalManager.close();\n      console.log(this.props)\n      this.props.history.push(params.pathToEditProfile, params.state)\n      \n   }    \n\n   getProps(){\n      let props = {\n         pageName           : this.state.pageName,\n         userItemsComponent : this.state.userItemsComponent,\n         showUserItems      : this.showUserItems.bind(this),\n         isProfileBox       : this.state.isProfileBox, \n         redirectToEdit     : this.redirectToEdit,\n         profileById        : this.state.profileById,\n      };\n\n      return Object.assign(props, this.props);\n   }\n  \n\n  \n   render() {\n      let   props = this.getProps();\n      var   profileById = props.profileById;\n      const userProfile = props.entyties.userProfile.byId[profileById];\n      \n          \n\n      return (\n         <div id=\"profile-page\">\n           <PartalNavigationBar {...props}/>\n           <NavigationBarBigScreen {...props} />\n            { userProfile?\n               <div>\n                  {userProfile.isLoading?\n                     <div className=\"page-spin-loder-box\">\n                        <AjaxLoader/>\n                     </div>\n                     : \n                     <ProfileComponent {...props}/> \n                  }\n               </div>\n               :\n               \"\"\n            }\n         </div>\n      );\n   };\n};\n\n\n\n\nexport default withMain(ProfilePage);\n\n\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}